# qooerp-system 系统管理 - 数据设计文档

> 模块版本：1.0.0-SNAPSHOT
> 创建日期：20xx-xx-xx
> 文档作者：QooERP团队

---

## 一、数据库概述

### 1.1 数据库信息

| 项目 | 值 |
|------|-----|
| 数据库名称 | qooerp_system |
| 数据库类型 | PostgreSQL 15+ |
| 字符集 | UTF8 |
| 排序规则 | zh_CN.UTF-8 |

### 1.2 表清单

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 1 | system_dict | 字典表 | 存储数据字典 |
| 2 | system_dict_item | 字典项表 | 存储字典明细项 |
| 3 | system_config | 系统参数表 | 存储系统配置参数 |
| 4 | system_log | 操作日志表 | 存储用户操作日志 |
| 5 | system_announcement | 系统公告表 | 存储系统公告 |
| 6 | system_announcement_read | 公告阅读记录表 | 存储公告阅读状态 |
| 7 | system_online_user | 在线用户表 | 存储在线用户会话信息 |
| 8 | system_export_task | 数据导出任务表 | 存储导出任务 |
| 9 | system_import_task | 数据导入任务表 | 存储导入任务 |
| 10 | system_import_error | 导入错误记录表 | 存储导入错误详情 |
| 11 | system_audit_log | 审计日志表 | 存储审计日志 |

---

## 二、数据表设计

### 2.1 system_dict 字典表

#### 2.1.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 字典ID |
| 2 | dict_name | VARCHAR | 100 | NO | | NO | 字典名称 |
| 3 | dict_code | VARCHAR | 100 | NO | | NO | 字典编码（唯一） |
| 4 | dict_type | VARCHAR | 100 | NO | | NO | 字典类型 |
| 5 | status | TINYINT | 1 | NO | 1 | NO | 状态：0-禁用 1-启用 |
| 6 | remark | VARCHAR | 500 | YES | | NO | 备注 |
| 7 | create_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 创建时间 |
| 8 | create_by | VARCHAR | 50 | YES | | NO | 创建人 |
| 9 | update_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 更新时间 |
| 10 | update_by | VARCHAR | 50 | YES | | NO | 更新人 |

#### 2.1.2 建表SQL

```sql
CREATE TABLE system_dict (
    id BIGSERIAL PRIMARY KEY,
    dict_name VARCHAR(100) NOT NULL,
    dict_code VARCHAR(100) NOT NULL,
    dict_type VARCHAR(100) NOT NULL,
    status SMALLINT NOT NULL DEFAULT 1,
    remark VARCHAR(500),
    create_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    create_by VARCHAR(50),
    update_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    update_by VARCHAR(50)
);

CREATE UNIQUE INDEX uk_system_dict_code ON system_dict(dict_code);
COMMENT ON TABLE system_dict IS '字典表';
```

---

### 2.2 system_dict_item 字典项表

#### 2.2.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 字典项ID |
| 2 | dict_id | BIGINT | 20 | NO | | NO | 字典ID |
| 3 | item_label | VARCHAR | 100 | NO | | NO | 字典项标签 |
| 4 | item_value | VARCHAR | 100 | NO | | NO | 字典项值 |
| 5 | item_code | VARCHAR | 100 | NO | | NO | 字典项编码 |
| 6 | sort | INT | 11 | YES | 0 | NO | 排序号 |
| 7 | status | TINYINT | 1 | NO | 1 | NO | 状态：0-禁用 1-启用 |
| 8 | remark | VARCHAR | 500 | YES | | NO | 备注 |

#### 2.2.2 建表SQL

```sql
CREATE TABLE system_dict_item (
    id BIGSERIAL PRIMARY KEY,
    dict_id BIGINT NOT NULL,
    item_label VARCHAR(100) NOT NULL,
    item_value VARCHAR(100) NOT NULL,
    item_code VARCHAR(100) NOT NULL,
    sort INTEGER DEFAULT 0,
    status SMALLINT NOT NULL DEFAULT 1,
    remark VARCHAR(500)
);

CREATE INDEX idx_system_dict_id ON system_dict_item(dict_id);
COMMENT ON TABLE system_dict_item IS '字典项表';
```

---

### 2.3 system_config 系统参数表

#### 2.3.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 参数ID |
| 2 | config_name | VARCHAR | 100 | NO | | NO | 参数名称 |
| 3 | config_key | VARCHAR | 100 | NO | | NO | 参数键（唯一） |
| 4 | config_value | VARCHAR | 500 | YES | | NO | 参数值 |
| 5 | config_type | VARCHAR | 20 | NO | | NO | 参数类型：string/number/boolean |
| 6 | is_system | TINYINT | 1 | NO | 0 | NO | 是否系统参数：0-否 1-是 |
| 7 | remark | VARCHAR | 500 | YES | | NO | 备注 |

#### 2.3.2 建表SQL

```sql
CREATE TABLE system_config (
    id BIGSERIAL PRIMARY KEY,
    config_name VARCHAR(100) NOT NULL,
    config_key VARCHAR(100) NOT NULL,
    config_value VARCHAR(500),
    config_type VARCHAR(20) NOT NULL,
    is_system SMALLINT NOT NULL DEFAULT 0,
    remark VARCHAR(500)
);

CREATE UNIQUE INDEX uk_system_config_key ON system_config(config_key);
COMMENT ON TABLE system_config IS '系统参数表';
```

---

### 2.4 system_log 操作日志表

#### 2.4.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 日志ID |
| 2 | user_id | BIGINT | 20 | YES | | NO | 用户ID |
| 3 | username | VARCHAR | 50 | YES | | NO | 用户名 |
| 4 | module | VARCHAR | 50 | YES | | NO | 模块名称 |
| 5 | operation | VARCHAR | 50 | YES | | NO | 操作类型 |
| 6 | method | VARCHAR | 200 | YES | | NO | 方法名称 |
| 7 | params | TEXT | | YES | | NO | 请求参数 |
| 8 | ip | VARCHAR | 50 | YES | | NO | 请求IP |
| 9 | location | VARCHAR | 100 | YES | | NO | 请求地点 |
| 10 | browser | VARCHAR | 50 | YES | | NO | 浏览器 |
| 11 | os | VARCHAR | 50 | YES | | NO | 操作系统 |
| 12 | status | TINYINT | 1 | NO | 0 | NO | 状态：0-失败 1-成功 |
| 13 | error_msg | VARCHAR | 500 | YES | | NO | 错误信息 |
| 14 | cost_time | INT | 11 | YES | | NO | 执行时间（毫秒） |
| 15 | operate_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 操作时间 |

#### 2.4.2 建表SQL

```sql
CREATE TABLE system_log (
    id BIGSERIAL PRIMARY KEY,
    user_id BIGINT,
    username VARCHAR(50),
    module VARCHAR(50),
    operation VARCHAR(50),
    method VARCHAR(200),
    params TEXT,
    ip VARCHAR(50),
    location VARCHAR(100),
    browser VARCHAR(50),
    os VARCHAR(50),
    status SMALLINT NOT NULL DEFAULT 0,
    error_msg VARCHAR(500),
    cost_time INTEGER,
    operate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_system_user_id ON system_log(user_id, operate_time);
CREATE INDEX idx_system_operate_time ON system_log(operate_time);
COMMENT ON TABLE system_log IS '操作日志表';
```

---

### 2.5 system_announcement 系统公告表

#### 2.5.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 公告ID |
| 2 | title | VARCHAR | 200 | NO | | NO | 公告标题 |
| 3 | content | TEXT | | NO | | NO | 公告内容 |
| 4 | announcement_type | VARCHAR | 20 | NO | | NO | 公告类型：urgent/important/normal |
| 5 | target_type | VARCHAR | 20 | NO | | NO | 目标类型：all/department/role |
| 6 | target_ids | VARCHAR | 1000 | YES | | NO | 目标ID列表 |
| 7 | publisher_id | BIGINT | 20 | YES | | NO | 发布人ID |
| 8 | publisher_name | VARCHAR | 50 | YES | | NO | 发布人姓名 |
| 9 | publish_time | TIMESTAMP | | YES | | NO | 发布时间 |
| 10 | status | TINYINT | 1 | NO | 0 | NO | 状态：0-草稿 1-已发布 2-已撤回 |
| 11 | priority | INT | 11 | NO | 0 | NO | 优先级 |
| 12 | read_count | INT | 11 | NO | 0 | NO | 阅读次数 |

#### 2.5.2 建表SQL

```sql
CREATE TABLE system_announcement (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR(200) NOT NULL,
    content TEXT NOT NULL,
    announcement_type VARCHAR(20) NOT NULL,
    target_type VARCHAR(20) NOT NULL,
    target_ids VARCHAR(1000),
    publisher_id BIGINT,
    publisher_name VARCHAR(50),
    publish_time TIMESTAMP,
    status SMALLINT NOT NULL DEFAULT 0,
    priority INTEGER NOT NULL DEFAULT 0,
    read_count INTEGER NOT NULL DEFAULT 0
);

CREATE INDEX idx_system_announcement_status ON system_announcement(status, priority);
CREATE INDEX idx_system_announcement_publish_time ON system_announcement(publish_time);
COMMENT ON TABLE system_announcement IS '系统公告表';
```

---

### 2.6 system_announcement_read 公告阅读记录表

#### 2.6.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 记录ID |
| 2 | announcement_id | BIGINT | 20 | NO | | NO | 公告ID |
| 3 | user_id | BIGINT | 20 | NO | | NO | 用户ID |
| 4 | username | VARCHAR | 50 | YES | | NO | 用户名 |
| 5 | is_read | BOOLEAN | | NO | FALSE | NO | 是否已读 |
| 6 | read_time | TIMESTAMP | | YES | | NO | 阅读时间 |

#### 2.6.2 建表SQL

```sql
CREATE TABLE system_announcement_read (
    id BIGSERIAL PRIMARY KEY,
    announcement_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    username VARCHAR(50),
    is_read BOOLEAN NOT NULL DEFAULT FALSE,
    read_time TIMESTAMP
);

CREATE UNIQUE INDEX uk_announcement_user ON system_announcement_read(announcement_id, user_id);
CREATE INDEX idx_system_announcement_read_user ON system_announcement_read(user_id);
COMMENT ON TABLE system_announcement_read IS '公告阅读记录表';
```

---

### 2.7 system_online_user 在线用户表

#### 2.7.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 记录ID |
| 2 | user_id | BIGINT | 20 | NO | | NO | 用户ID |
| 3 | username | VARCHAR | 50 | NO | | NO | 用户名 |
| 4 | token | VARCHAR | 500 | NO | | NO | 登录令牌 |
| 5 | login_ip | VARCHAR | 50 | YES | | NO | 登录IP |
| 6 | login_location | VARCHAR | 100 | YES | | NO | 登录地点 |
| 7 | login_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 登录时间 |
| 8 | last_active_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 最后活跃时间 |
| 9 | status | TINYINT | 1 | NO | 1 | NO | 状态：0-已下线 1-在线 |
| 10 | user_agent | VARCHAR | 500 | YES | | NO | 用户代理 |

#### 2.7.2 建表SQL

```sql
CREATE TABLE system_online_user (
    id BIGSERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL,
    username VARCHAR(50) NOT NULL,
    token VARCHAR(500) NOT NULL,
    login_ip VARCHAR(50),
    login_location VARCHAR(100),
    login_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    last_active_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    status SMALLINT NOT NULL DEFAULT 1,
    user_agent VARCHAR(500)
);

CREATE UNIQUE INDEX uk_system_online_user_token ON system_online_user(token);
CREATE INDEX idx_system_online_user_user ON system_online_user(user_id);
CREATE INDEX idx_system_online_user_status ON system_online_user(status, last_active_time);
COMMENT ON TABLE system_online_user IS '在线用户表';
```

---

### 2.8 system_export_task 数据导出任务表

#### 2.8.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 任务ID |
| 2 | task_name | VARCHAR | 100 | NO | | NO | 任务名称 |
| 3 | module_name | VARCHAR | 50 | NO | | NO | 模块名称 |
| 4 | export_type | VARCHAR | 20 | NO | | NO | 导出类型：excel/csv/pdf |
| 5 | export_condition | TEXT | | YES | | NO | 导出条件（JSON） |
| 6 | status | TINYINT | 1 | NO | 0 | NO | 状态：0-待执行 1-执行中 2-成功 3-失败 |
| 7 | file_path | VARCHAR | 500 | YES | | NO | 文件路径 |
| 8 | file_name | VARCHAR | 200 | YES | | NO | 文件名称 |
| 9 | file_size | BIGINT | 20 | YES | | NO | 文件大小（字节） |
| 10 | total_records | INT | 11 | YES | | NO | 总记录数 |
| 11 | creator_id | BIGINT | 20 | YES | | NO | 创建人ID |
| 12 | creator_name | VARCHAR | 50 | YES | | NO | 创建人姓名 |
| 13 | create_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 创建时间 |
| 14 | complete_time | TIMESTAMP | | YES | | NO | 完成时间 |
| 15 | error_message | TEXT | | YES | | NO | 错误信息 |

#### 2.8.2 建表SQL

```sql
CREATE TABLE system_export_task (
    id BIGSERIAL PRIMARY KEY,
    task_name VARCHAR(100) NOT NULL,
    module_name VARCHAR(50) NOT NULL,
    export_type VARCHAR(20) NOT NULL,
    export_condition TEXT,
    status SMALLINT NOT NULL DEFAULT 0,
    file_path VARCHAR(500),
    file_name VARCHAR(200),
    file_size BIGINT,
    total_records INTEGER,
    creator_id BIGINT,
    creator_name VARCHAR(50),
    create_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    complete_time TIMESTAMP,
    error_message TEXT
);

CREATE INDEX idx_system_export_task_status ON system_export_task(status, create_time);
CREATE INDEX idx_system_export_task_creator ON system_export_task(creator_id);
COMMENT ON TABLE system_export_task IS '数据导出任务表';
```

---

### 2.9 system_import_task 数据导入任务表

#### 2.9.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 任务ID |
| 2 | task_name | VARCHAR | 100 | NO | | NO | 任务名称 |
| 3 | module_name | VARCHAR | 50 | NO | | NO | 模块名称 |
| 4 | import_type | VARCHAR | 20 | NO | | NO | 导入类型：excel/csv |
| 5 | file_path | VARCHAR | 500 | YES | | NO | 文件路径 |
| 6 | file_name | VARCHAR | 200 | YES | | NO | 文件名称 |
| 7 | total_records | INT | 11 | YES | | NO | 总记录数 |
| 8 | success_records | INT | 11 | YES | 0 | NO | 成功记录数 |
| 9 | failure_records | INT | 11 | YES | 0 | NO | 失败记录数 |
| 10 | status | TINYINT | 1 | NO | 0 | NO | 状态：0-待执行 1-执行中 2-成功 3-失败 |
| 11 | creator_id | BIGINT | 20 | YES | | NO | 创建人ID |
| 12 | creator_name | VARCHAR | 50 | YES | | NO | 创建人姓名 |
| 13 | create_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 创建时间 |
| 14 | complete_time | TIMESTAMP | | YES | | NO | 完成时间 |

#### 2.9.2 建表SQL

```sql
CREATE TABLE system_import_task (
    id BIGSERIAL PRIMARY KEY,
    task_name VARCHAR(100) NOT NULL,
    module_name VARCHAR(50) NOT NULL,
    import_type VARCHAR(20) NOT NULL,
    file_path VARCHAR(500),
    file_name VARCHAR(200),
    total_records INTEGER,
    success_records INTEGER DEFAULT 0,
    failure_records INTEGER DEFAULT 0,
    status SMALLINT NOT NULL DEFAULT 0,
    creator_id BIGINT,
    creator_name VARCHAR(50),
    create_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    complete_time TIMESTAMP
);

CREATE INDEX idx_system_import_task_status ON system_import_task(status, create_time);
CREATE INDEX idx_system_import_task_creator ON system_import_task(creator_id);
COMMENT ON TABLE system_import_task IS '数据导入任务表';
```

---

### 2.10 system_import_error 导入错误记录表

#### 2.10.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 错误ID |
| 2 | import_task_id | BIGINT | 20 | NO | | NO | 导入任务ID |
| 3 | row_number | INT | 11 | NO | | NO | 行号 |
| 4 | field_name | VARCHAR | 100 | YES | | NO | 字段名 |
| 5 | error_message | VARCHAR | 500 | NO | | NO | 错误信息 |
| 6 | row_data | TEXT | | YES | | NO | 行数据（JSON） |
| 7 | create_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 创建时间 |

#### 2.10.2 建表SQL

```sql
CREATE TABLE system_import_error (
    id BIGSERIAL PRIMARY KEY,
    import_task_id BIGINT NOT NULL,
    row_number INTEGER NOT NULL,
    field_name VARCHAR(100),
    error_message VARCHAR(500) NOT NULL,
    row_data TEXT,
    create_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_system_import_error_task ON system_import_error(import_task_id);
COMMENT ON TABLE system_import_error IS '导入错误记录表';
```

---

### 2.11 system_audit_log 审计日志表

#### 2.11.1 表结构

| 序号 | 字段名 | 类型 | 长度 | 允许NULL | 默认值 | 主键 | 说明 |
|------|--------|------|------|----------|--------|------|------|
| 1 | id | BIGINT | 20 | NO | | YES | 日志ID |
| 2 | audit_type | VARCHAR | 20 | NO | | NO | 审计类型：data_change/sensitive_operation/login |
| 3 | module_name | VARCHAR | 50 | YES | | NO | 模块名称 |
| 4 | operation_type | VARCHAR | 50 | YES | | NO | 操作类型 |
| 5 | target_table | VARCHAR | 100 | YES | | NO | 目标表名 |
| 6 | target_id | VARCHAR | 100 | YES | | NO | 目标ID |
| 7 | old_value | TEXT | | YES | | NO | 变更前值 |
| 8 | new_value | TEXT | | YES | | NO | 变更后值 |
| 9 | changed_fields | TEXT | | YES | | NO | 变更字段列表（JSON） |
| 10 | user_id | BIGINT | 20 | YES | | NO | 用户ID |
| 11 | username | VARCHAR | 50 | YES | | NO | 用户名 |
| 12 | ip | VARCHAR | 50 | YES | | NO | IP地址 |
| 13 | user_agent | VARCHAR | 500 | YES | | NO | 用户代理 |
| 14 | operate_time | TIMESTAMP | | NO | CURRENT_TIMESTAMP | NO | 操作时间 |

#### 2.11.2 建表SQL

```sql
CREATE TABLE system_audit_log (
    id BIGSERIAL PRIMARY KEY,
    audit_type VARCHAR(20) NOT NULL,
    module_name VARCHAR(50),
    operation_type VARCHAR(50),
    target_table VARCHAR(100),
    target_id VARCHAR(100),
    old_value TEXT,
    new_value TEXT,
    changed_fields TEXT,
    user_id BIGINT,
    username VARCHAR(50),
    ip VARCHAR(50),
    user_agent VARCHAR(500),
    operate_time TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_system_audit_log_type ON system_audit_log(audit_type, operate_time);
CREATE INDEX idx_system_audit_log_user ON system_audit_log(user_id, operate_time);
CREATE INDEX idx_system_audit_log_target ON system_audit_log(target_table, target_id, operate_time);
COMMENT ON TABLE system_audit_log IS '审计日志表';
```

---

## 三、初始化数据

### 3.1 默认字典数据

```sql
-- 插入默认字典
INSERT INTO system_dict (dict_name, dict_code, dict_type, create_by) VALUES
('用户状态', 'user_status', 'user', 'system'),
('字典状态', 'dict_status', 'system', 'system');

-- 插入字典项
INSERT INTO system_dict_item (dict_id, item_label, item_value, item_code, sort) VALUES
((SELECT id FROM system_dict WHERE dict_code = 'user_status'), '正常', '1', 'normal', 1),
((SELECT id FROM system_dict WHERE dict_code = 'user_status'), '禁用', '0', 'disable', 2);
```

### 3.2 默认系统参数

```sql
INSERT INTO system_config (config_name, config_key, config_value, config_type, is_system) VALUES
('系统名称', 'sys.name', 'QooERP', 'string', 1),
('系统版本', 'sys.version', '1.0.0', 'string', 1),
('会话超时时间（秒）', 'sys.session.timeout', '7200', 'number', 1);
```

---

## 四、数据关系

### 4.1 ER图

```mermaid
erDiagram
    system_dict |--o{ system_dict_item : "包含"
    system_dict {
        BIGINT id PK
        VARCHAR dict_code
        VARCHAR dict_name
        SMALLINT status
    }
    system_dict_item {
        BIGINT id PK
        BIGINT dict_id FK
        VARCHAR item_code
        VARCHAR item_label
        VARCHAR item_value
    }
```

---

## 五、性能优化

### 5.1 索引优化

- 已为常用查询字段创建索引
- 定期VACUUM和ANALYZE

### 5.2 分区策略

`system_log` 表按月分区（可选）

`system_audit_log` 表按月分区（可选）

### 5.3 数据归档策略

- `system_log`：保留90天，超期数据归档到历史表
- `system_audit_log`：保留1年，超期数据归档到历史表

---

## 六、参考资料

>- [PostgreSQL官方文档](https://www.postgresql.org/docs/)
