# QooERP 统一前端工程 - 业务设计文档

> 文档版本: v1.0
> 创建日期: 20xx-xx-xx
> 最后更新: 20xx-xx-xx

---

## 一、业务架构概述

### 1.1 业务领域划分

QooERP 前端工程基于 DDD 领域驱动设计,按照业务域划分为以下核心领域:

| 领域编号 | 领域名称 | 优先级 | 页面数量 | 复杂度 | 说明 |
|---------|---------|--------|---------|--------|------|
| D01 | 身份认证与授权 | P0 | 15 | 高 | 登录、权限、SSO |
| D02 | 系统管理 | P0 | 20 | 中 | 配置、日志、监控 |
| D03 | 组织架构 | P1 | 18 | 中 | 部门、岗位、组织树 |
| D04 | 用户管理 | P1 | 12 | 中 | 用户档案、生命周期 |
| D05 | 人力资源管理 | P1 | 45 | 高 | 招聘、考勤、薪酬、绩效 |
| D06 | 财务管理 | P1 | 52 | 高 | 核算、报表、预算、税务 |
| D07 | 供应链管理 | P1 | 38 | 中 | 供应商、采购、物流 |
| D08 | 销售管理 | P1 | 42 | 中 | 客户、订单、发货、回款 |
| D09 | 库存管理 | P1 | 35 | 中 | 物料、库存、盘点 |
| D10 | 生产管理 | P2 | 40 | 高 | 计划、排程、执行、质量 |
| D11 | 项目管理 | P2 | 25 | 中 | 立项、计划、执行、交付 |
| D12 | 客户关系管理 | P2 | 30 | 中 | 客户、互动、分析 |
| D13 | 工作流管理 | P3 | 28 | 高 | 流程设计、执行、监控 |
| D14 | 报表与分析 | P3 | 45 | 高 | 报表设计、数据可视化 |
| D15 | 文件管理 | P3 | 12 | 低 | 上传、下载、预览 |
| D16 | 消息通知 | P3 | 15 | 低 | 站内消息、邮件、短信 |
| D17 | 协同办公 | P3 | 20 | 中 | 文档、任务、日历 |

---

## 二、核心业务模块设计

### 2.1 身份认证与授权 (D01)

#### 2.1.1 业务流程

**登录流程**:
```
用户访问系统 → 输入凭证 → 前端验证 → 调用登录API → 获取Token → 存储Token → 跳转首页
         ↓
    SSO单点登录(可选)
```

**权限验证流程**:
```
用户访问页面 → 路由守卫 → 检查Token → 获取用户权限 → 验证路由权限 → 验证按钮权限 → 渲染页面
```

#### 2.1.2 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /auth/login | 登录页 | 独立页 | P0 | 用户名密码登录、SSO登录、扫码登录 |
| /auth/sso-callback | SSO回调页 | 独立页 | P0 | 处理第三方SSO回调 |
| /auth/register | 注册页 | 独立页 | P1 | 新用户注册 |
| /auth/forgot-password | 忘记密码 | 独立页 | P1 | 找回密码流程 |
| /auth/reset-password | 重置密码 | 独立页 | P1 | 重置密码表单 |
| /auth/mfa-setup | MFA配置页 | 独立页 | P1 | 多因素认证设置 |
| /auth/mfa-verify | MFA验证页 | 独立页 | P1 | 二次验证 |
| /auth/binding | 账号绑定 | 独立页 | P2 | 绑定第三方账号 |
| /auth/qr-login | 扫码登录 | 独立页 | P2 | 二维码登录 |
| /auth/tenant-select | 租户选择 | 独立页 | P0 | 多租户环境选择租户 |
| /auth/permissions | 权限管理 | 列表页 | P0 | 权限列表、新增、编辑、删除 |
| /auth/roles | 角色管理 | 列表页 | P0 | 角色列表、新增、编辑、删除 |
| /auth/role-permission | 角色权限配置 | 关联页 | P0 | 配置角色权限关联 |
| /auth/user-role | 用户角色配置 | 关联页 | P0 | 配置用户角色关联 |
| /auth/audit-log | 审计日志 | 列表页 | P1 | 登录日志、操作日志查询 |

#### 2.1.3 业务规则

1. **登录规则**
   - 支持用户名、邮箱、手机号登录
   - 密码错误5次后锁定账户30分钟
   - 支持记住登录状态(7天)
   - Token有效期2小时,自动刷新

2. **权限规则**
   - 采用RBAC+ABAC复合模型
   - 支持数据权限(行级、列级、字段级)
   - 权限继承:子角色继承父角色权限
   - 权限委托:支持权限临时委托

3. **多租户规则**
   - 用户可属于多个租户
   - 登录后需选择当前操作租户
   - 租户间数据完全隔离
   - 支持租户切换

---

### 2.2 系统管理 (D02)

#### 2.2.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /system/params | 系统参数 | 列表页 | P0 | 参数配置、启用/禁用 |
| /system/configs | 系统配置 | 列表页 | P0 | 配置管理、分组管理 |
| /system/dictionaries | 数据字典 | 列表页 | P0 | 字典项管理、字典值管理 |
| /system/menus | 菜单管理 | 树形页 | P0 | 菜单树配置、权限绑定 |
| /system/logs | 系统日志 | 列表页 | P1 | 日志查询、日志详情、日志导出 |
| /system/login-logs | 登录日志 | 列表页 | P1 | 登录记录、登录统计 |
| /system/operation-logs | 操作日志 | 列表页 | P1 | 操作记录、操作回放 |
| /system/error-logs | 错误日志 | 列表页 | P1 | 错误查询、错误分析 |
| /system/backup | 备份管理 | 列表页 | P1 | 数据备份、数据恢复 |
| /system/health | 健康检查 | 监控页 | P1 | 系统健康状态监控 |
| /system/monitor | 系统监控 | 监控页 | P1 | 性能监控、资源监控 |
| /system/version | 版本管理 | 列表页 | P2 | 版本记录、版本发布 |
| /system/upgrade | 系统升级 | 独立页 | P2 | 在线升级流程 |
| /system/permissions | 系统权限 | 列表页 | P0 | 系统级权限管理 |
| /system/audit | 安全审计 | 列表页 | P1 | 审计记录、审计报告 |
| /system/alerts | 告警管理 | 列表页 | P1 | 告警规则、告警记录 |
| /system/resources | 资源管理 | 列表页 | P1 | 资源分配、资源使用 |
| /system/schedules | 定时任务 | 列表页 | P1 | 任务配置、任务执行、任务日志 |
| /system/cache | 缓存管理 | 独立页 | P1 | 缓存查看、缓存清理 |

#### 2.2.2 核心功能

**系统参数管理**
- 参数分组:基础、业务、安全、性能
- 参数类型:字符串、数字、布尔、JSON
- 参数作用域:全局、租户、用户
- 参数缓存:支持Redis缓存

**菜单管理**
- 树形结构展示
- 支持拖拽排序
- 图标选择器
- 权限绑定(页面权限、按钮权限)
- 支持外部链接、内嵌iframe

---

### 2.3 组织架构管理 (D03)

#### 2.3.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /org/units | 组织单元 | 树形页 | P1 | 组织树管理、新增、编辑、删除 |
| /org/departments | 部门管理 | 树形页 | P1 | 部门管理、负责人配置 |
| /org/companies | 公司管理 | 列表页 | P1 | 公司档案、公司配置 |
| /org/virtual | 虚拟组织 | 列表页 | P2 | 虚拟组织、临时组织 |
| /org/project-organizations | 项目组织 | 列表页 | P2 | 项目组织管理 |
| /org/positions | 岗位管理 | 列表页 | P1 | 岗位定义、岗位分类 |
| /org/position-families | 岗位族 | 列表页 | P1 | 岗位族管理、岗位序列 |
| /org/ranks | 职级管理 | 列表页 | P1 | 职级定义、职等管理 |
| /org/salary-ranges | 薪酬范围 | 列表页 | P1 | 岗位薪酬范围配置 |
| /org/budgets | 组织预算 | 列表页 | P2 | 组织预算编制、预算执行 |
| /org/kpis | 组织KPI | 列表页 | P2 | KPI配置、KPI考核 |
| /org/leaders | 负责人管理 | 列表页 | P1 | 组织负责人配置 |
| /org/relations | 组织关系 | 网络图 | P2 | 组织关系可视化 |
| /org/permissions | 组织权限 | 列表页 | P1 | 组织数据权限配置 |

#### 2.3.2 业务规则

1. **组织树规则**
   - 支持多级嵌套(建议不超过10级)
   - 同级组织顺序可调整
   - 组织删除需先清空下级组织和人员
   - 支持组织冻结/解冻

2. **岗位规则**
   - 岗位隶属于组织
   - 一个岗位可关联多个职级
   - 岗位可配置编制人数
   - 岗位可设置代理关系

---

### 2.4 用户管理 (D04)

#### 2.4.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /user/list | 用户列表 | 列表页 | P1 | 用户查询、新增、编辑、删除 |
| /user/detail/:id | 用户详情 | 详情页 | P1 | 用户完整信息展示、编辑 |
| /user/profile | 个人中心 | 详情页 | P1 | 个人信息修改、密码修改 |
| /user/avatar | 头像设置 | 独立页 | P2 | 头像上传、裁剪 |
| /user/password | 修改密码 | 独立页 | P1 | 旧密码验证、新密码设置 |
| /user/contracts | 合同管理 | 列表页 | P1 | 合同列表、合同详情、合同归档 |
| /user/certificates | 证件管理 | 列表页 | P1 | 证件上传、证件到期提醒 |
| /user/family | 家庭信息 | 详情页 | P2 | 家庭成员信息 |
| /user/education | 教育背景 | 列表页 | P2 | 学历、学位、培训记录 |
| /user/experience | 工作经历 | 列表页 | P2 | 工作履历、项目经历 |
| /user/skills | 技能管理 | 标签页 | P2 | 技能标签、技能评估 |
| /user/onboarding | 入职流程 | 流程页 | P2 | 入职办理、入职引导 |
| /user/transfer | 调动管理 | 列表页 | P1 | 调动申请、调动审批 |
| /user/promotion | 晋升管理 | 列表页 | P1 | 晋升申请、晋升审批 |
| /user/demotion | 降职管理 | 列表页 | P2 | 降职处理、降职审批 |
| /user/resignation | 离职管理 | 流程页 | P1 | 离职申请、离职办理 |
| /user/rehire | 复职管理 | 流程页 | P2 | 复职申请、复职审批 |
| /user/retirement | 退休管理 | 流程页 | P2 | 退休办理 |

#### 2.4.2 核心功能

**用户档案**
- 基础信息:姓名、性别、出生日期、国籍
- 联系方式:手机、邮箱、住址
- 入职信息:入职日期、工号、试用期
- 组织信息:所属部门、岗位、职级
- 账号信息:账号状态、上次登录时间

**用户生命周期**
- 新增用户 → 分配部门岗位 → 配置角色权限 → 发送入职通知
- 用户调动 → 部门变更 → 岗位变更 → 权限调整
- 用户离职 → 禁用账号 → 归档数据 → 释放资源

---

### 2.5 人力资源管理 (D05)

#### 2.5.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /hr/leave | 请假管理 | 列表页 | P1 | 请假申请、审批、统计 |
| /hr/overtime | 加班管理 | 列表页 | P1 | 加班申请、加班统计 |
| /hr/business-trip | 出差管理 | 列表页 | P1 | 出差申请、出差报销 |
| /hr/attendance | 考勤管理 | 列表页 | P1 | 考勤记录、考勤统计 |
| /hr/schedule | 排班管理 | 日历页 | P1 | 排班计划、排班规则 |
| /hr/rules | 考勤规则 | 列表页 | P1 | 班次配置、考勤策略 |
| /hr/statistics | 考勤统计 | 报表页 | P1 | 出勤率、加班统计、请假统计 |
| /hr/salary | 薪酬管理 | 列表页 | P1 | 薪酬方案、薪酬计算 |
| /hr/salary-structure | 薪酬结构 | 详情页 | P1 | 薪酬组成部分配置 |
| /hr/salary-calc | 薪酬计算 | 独立页 | P1 | 批量计算薪酬 |
| /hr/salary-payment | 薪酬发放 | 列表页 | P1 | 发放记录、银行代发 |
| /hr/welfare | 福利管理 | 列表页 | P2 | 福利项目、福利发放 |
| /hr/performance-period | 绩效周期 | 列表页 | P1 | 绩效周期配置 |
| /hr/performance-target | 绩效目标 | 列表页 | P1 | 目标分解、目标确认 |
| /hr/kpi | KPI管理 | 列表页 | P1 | KPI指标库、指标配置 |
| /hr/assessment | 绩效评估 | 列表页 | P1 | 评估表、评估流程 |
| /hr/performance-result | 绩效结果 | 列表页 | P1 | 绩效等级、绩效面谈 |
| /hr/recruitment-demand | 招聘需求 | 列表页 | P2 | 需求申请、需求审批 |
| /hr/positions | 职位发布 | 列表页 | P2 | 职位管理、招聘网站发布 |
| /hr/resume | 简历管理 | 列表页 | P2 | 简历筛选、简历归档 |
| /hr/interview | 面试管理 | 列表页 | P2 | 面试安排、面试评估 |
| /hr/offer | Offer管理 | 列表页 | P2 | Offer发放、Offer跟踪 |
| /hr/onboarding | 入职办理 | 流程页 | P2 | 入职准备、入职引导 |
| /hr/training-plan | 培训计划 | 列表页 | P2 | 培训计划编制 |
| /hr/courses | 培训课程 | 列表页 | P2 | 课程管理、课程评估 |
| /hr/enrollment | 培训报名 | 列表页 | P2 | 培训报名、培训记录 |
| /hr/certificates | 证书管理 | 列表页 | P2 | 证书颁发、证书查询 |
| /hr/learning-path | 学习路径 | 详情页 | P2 | 职业发展规划 |
| /hr/succession | 继任计划 | 列表页 | P2 | 候选人管理、继任关系 |

---

### 2.6 财务管理 (D06)

#### 2.6.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /fin/accounts | 会计科目 | 树形页 | P1 | 科目树、科目余额、辅助核算 |
| /fin/vouchers | 凭证管理 | 列表页 | P1 | 凭证新增、审核、记账、反记账 |
| /fin/voucher-detail | 凭证详情 | 详情页 | P1 | 凭证明细、审批记录 |
| /fin/trial-balance | 试算平衡 | 报表页 | P1 | 试算平衡表 |
| /fin/general-ledger | 总账查询 | 报表页 | P1 | 总账查询、明细账查询 |
| /fin/multi-column | 多栏账 | 报表页 | P1 | 多栏账查询 |
| /fin/period-close | 期末结账 | 独立页 | P1 | 结账流程、结账检查 |
| /fin/receivable | 应收管理 | 列表页 | P1 | 应收账款、账龄分析 |
| /fin/payable | 应付管理 | 列表页 | P1 | 应付账款、账龄分析 |
| /fin/invoice | 发票管理 | 列表页 | P1 | 销售发票、采购发票 |
| /fin/receipt | 收款单 | 列表页 | P1 | 收款管理、收款核销 |
| /fin/payment | 付款单 | 列表页 | P1 | 付款管理、付款核销 |
| /fin/assets | 固定资产 | 列表页 | P1 | 资产卡片、资产折旧 |
| /fin/depreciation | 折旧计算 | 独立页 | P1 | 批量折旧、折旧表 |
| /fin/cost-center | 成本中心 | 列表页 | P1 | 成本中心管理 |
| /fin/cost-allocation | 成本分摊 | 列表页 | P1 | 成本分摊规则、分摊记录 |
| /fin/standard-cost | 标准成本 | 列表页 | P1 | 标准成本配置 |
| /fin/actual-cost | 实际成本 | 列表页 | P1 | 成本核算、差异分析 |
| /fin/budget | 预算管理 | 列表页 | P1 | 预算编制、预算控制 |
| /fin/budget-execution | 预算执行 | 报表页 | P1 | 预算执行分析 |
| /fin/fund | 资金管理 | 列表页 | P1 | 资金计划、资金流水 |
| /fin/bank-account | 银行账户 | 列表页 | P1 | 账户管理、账户对账 |
| /fin/statement-balance | 资产负债表 | 报表页 | P1 | 资产负债表查询 |
| /fin/statement-income | 利润表 | 报表页 | P1 | 利润表查询 |
| /fin/statement-cash | 现金流量表 | 报表页 | P1 | 现金流量表查询 |
| /fin/consolidated | 合并报表 | 报表页 | P1 | 合并报表编制 |
| /fin/tax-config | 税务配置 | 列表页 | P1 | 税种、税率配置 |
| /fin/vat | 增值税管理 | 列表页 | P1 | 增值税申报、发票抵扣 |
| /fin/income-tax | 企业所得税 | 列表页 | P1 | 企业所得税申报 |
| /fin/personal-tax | 个人所得税 | 列表页 | P1 | 个税计算、个税申报 |
| /fin/financial-ratio | 财务指标 | 报表页 | P1 | 财务比率分析 |
| /fin/du-pont | 杜邦分析 | 报表页 | P1 | 杜邦分析模型 |
| /fin/trend-analysis | 趋势分析 | 报表页 | P1 | 趋势分析图表 |
| /fin/financial-dashboard | 财务仪表盘 | 仪表盘 | P1 | 财务数据可视化 |

---

### 2.7 供应链管理 (D07)

#### 2.7.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /scm/suppliers | 供应商列表 | 列表页 | P1 | 供应商档案、供应商查询 |
| /scm/supplier-detail/:id | 供应商详情 | 详情页 | P1 | 供应商完整信息 |
| /scm/supplier-categories | 供应商分类 | 列表页 | P1 | 分类管理、分类配置 |
| /scm/supplier-evaluation | 供应商评估 | 列表页 | P1 | 评估记录、评分排名 |
| /scm/supplier-screening | 供应商筛选 | 列表页 | P1 | 筛选规则、筛选结果 |
| /scm/supplier-performances | 供应商绩效 | 报表页 | P1 | 绩效统计、绩效分析 |
| /scm/supplier-contracts | 供应商合同 | 列表页 | P1 | 合同管理、合同归档 |
| /scm/supplier-credit | 供应商信用 | 列表页 | P1 | 信用评估、信用等级 |
| /scm/purchase-plan | 采购计划 | 列表页 | P1 | 计划编制、计划审批 |
| /scm/purchase-order | 采购订单 | 列表页 | P1 | 订单管理、订单跟踪 |
| /scm/purchase-arrival | 采购到货 | 列表页 | P1 | 到货验收、质检记录 |
| /scm/purchase-payment | 采购付款 | 列表页 | P1 | 付款申请、付款审批 |
| /scm/purchase-invoice | 采购发票 | 列表页 | P1 | 发票管理、发票认证 |
| /scm/purchase-price | 价格管理 | 列表页 | P1 | 价格记录、价格分析 |
| /scm/purchase-reconciliation | 供应商对账 | 列表页 | P1 | 对账单、对账确认 |
| /scm/logistics | 物流管理 | 列表页 | P1 | 物流跟踪、物流费用 |
| /scm/logistics-tracking | 物流追踪 | 地图页 | P1 | 物流实时追踪 |

---

### 2.8 销售管理 (D08)

#### 2.8.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /sales/customers | 客户列表 | 列表页 | P1 | 客户档案、客户查询 |
| /sales/customer-detail/:id | 客户详情 | 详情页 | P1 | 客户完整信息 |
| /sales/customer-categories | 客户分类 | 列表页 | P1 | 分类管理、分类配置 |
| /sales/customer-levels | 客户等级 | 列表页 | P1 | 等级管理、等级权益 |
| /sales/customer-segments | 客户分群 | 列表页 | P2 | 客户分群、群组管理 |
| /sales/customer-portrait | 客户画像 | 详情页 | P2 | 客户标签、客户特征 |
| /sales/quotation | 销售报价 | 列表页 | P1 | 报价单、报价模板 |
| /sales/contract | 销售合同 | 列表页 | P1 | 合同管理、合同审批 |
| /sales/order | 销售订单 | 列表页 | P1 | 订单管理、订单跟踪 |
| /sales/order-detail/:id | 订单详情 | 详情页 | P1 | 订单完整信息、流程记录 |
| /sales/delivery | 销售发货 | 列表页 | P1 | 发货单、发货跟踪 |
| /sales/invoice | 销售开票 | 列表页 | P1 | 开票管理、发票查询 |
| /sales/payment | 销售回款 | 列表页 | P1 | 回款登记、回款核销 |
| /sales/after-sales | 售后服务 | 列表页 | P2 | 售后单、售后处理 |
| /sales/returns | 销售退货 | 列表页 | P2 | 退货申请、退货处理 |
| /sales/statistics | 销售统计 | 报表页 | P1 | 销售报表、销售分析 |
| /sales/forecast | 销售预测 | 报表页 | P2 | 销售预测、预测模型 |
| /sales/dashboard | 销售仪表盘 | 仪表盘 | P1 | 销售数据可视化 |

---

### 2.9 库存管理 (D09)

#### 2.9.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /inventory/materials | 物料列表 | 列表页 | P1 | 物料档案、物料查询 |
| /inventory/material-detail/:id | 物料详情 | 详情页 | P1 | 物料完整信息 |
| /inventory/material-categories | 物料分类 | 树形页 | P1 | 分类树、分类配置 |
| /inventory/material-attributes | 物料属性 | 列表页 | P1 | 属性定义、属性值 |
| /inventory/batches | 批次管理 | 列表页 | P1 | 批次记录、批次跟踪 |
| /inventory/serials | 序列号管理 | 列表页 | P1 | 序列号记录、序列号查询 |
| /inventory/stock | 库存查询 | 列表页 | P1 | 库存查询、库存分布 |
| /inventory/stock-adjust | 库存调整 | 列表页 | P1 | 调整单、调整原因 |
| /inventory/stock-taking | 库存盘点 | 列表页 | P1 | 盘点计划、盘点单 |
| /inventory/stock-alert | 库存预警 | 列表页 | P1 | 预警规则、预警记录 |
| /inventory/safety-stock | 安全库存 | 列表页 | P1 | 安全库存配置 |
| /inventory/inbound | 入库管理 | 列表页 | P1 | 入库单、入库查询 |
| /inventory/outbound | 出库管理 | 列表页 | P1 | 出库单、出库查询 |
| /inventory/transfer | 库存调拨 | 列表页 | P1 | 调拨单、调拨记录 |
| /inventory/usage | 领用管理 | 列表页 | P1 | 领用单、领用记录 |
| /inventory/statistics | 库存统计 | 报表页 | P1 | 库存报表、库存分析 |
| /inventory/dashboard | 库存仪表盘 | 仪表盘 | P1 | 库存数据可视化 |

---

### 2.10 报表与分析 (D14)

#### 2.10.1 页面清单

| 页面路径 | 页面名称 | 页面类型 | 优先级 | 功能说明 |
|---------|---------|---------|--------|---------|
| /report/templates | 报表模板 | 列表页 | P3 | 模板库、模板管理 |
| /report/designer | 报表设计器 | 独立页 | P3 | 可视化报表设计 |
| /report/datasources | 数据源管理 | 列表页 | P3 | 数据源配置、连接测试 |
| /report/permissions | 报表权限 | 列表页 | P3 | 报表访问权限配置 |
| /report/generate | 报表生成 | 独立页 | P3 | 报表生成、报表预览 |
| /report/preview | 报表预览 | 独立页 | P3 | 报表查看、打印 |
| /report/export | 报表导出 | 独立页 | P3 | 导出为Excel/PDF/图片 |
| /report/share | 报表分享 | 独立页 | P3 | 分享链接、分享权限 |
| /report/subscribe | 报表订阅 | 列表页 | P3 | 订阅配置、推送设置 |
| /report/alert | 报表预警 | 列表页 | P3 | 预警规则、预警通知 |
| /report/charts | 图表库 | 独立页 | P3 | 图表类型、图表配置 |
| /report/dashboard | 仪表盘 | 独立页 | P3 | 自定义仪表盘、组件拖拽 |
| /report/olap | OLAP分析 | 独立页 | P3 | 多维分析、数据透视 |
| /report/drill-down | 数据钻取 | 独立页 | P3 | 层级钻取、维度下钻 |
| /report/analysis | 数据分析 | 独立页 | P3 | 自助分析、探索式分析 |

---

## 三、业务交互流程

### 3.1 跨模块业务流程

**采购流程**:
```
采购计划 → 采购申请 → 采购审批 → 采购订单 → 供应商发货 → 采购到货 → 质检入库 → 采购付款
    ↓          ↓          ↓          ↓           ↓          ↓         ↓          ↓
  库存管理    工作流      权限验证    库存预警    物流跟踪   质量管理   库存更新   财务核算
```

**销售流程**:
```
客户询价 → 销售报价 → 销售合同 → 销售订单 → 库存检查 → 生产/采购 → 销售发货 → 销售开票 → 销售回款
    ↓         ↓          ↓          ↓          ↓          ↓          ↓          ↓         ↓
  客户管理   价格管理    合同审批    订单管理    库存管理    供应链     物流跟踪    财务开票   应收管理
```

**招聘流程**:
```
招聘需求 → 需求审批 → 职位发布 → 简历筛选 → 面试安排 → 面试评估 → Offer发放 → 入职办理 → 员工入职
    ↓         ↓          ↓          ↓          ↓          ↓          ↓          ↓         ↓
  组织管理   工作流      招聘平台    简历管理    日历管理    绩效考核    薪酬管理    用户管理   档案建立
```

---

## 四、业务数据流转

### 4.1 核心实体关系

```
组织(D03)
  ├─ 所属用户(D04)
  ├─ 所属岗位(D03)
  └─ 预算(D06)

用户(D04)
  ├─ 用户角色(D01)
  ├─ 职位(D03)
  └─ 生命周期(D05)

供应商(D07)
  ├─ 供应商合同(D07)
  ├─ 采购订单(D07)
  └─ 采购发票(D07)

客户(D08)
  ├─ 销售合同(D08)
  ├─ 销售订单(D08)
  └─ 销售发票(D08)

物料(D09)
  ├─ 库存(D09)
  ├─ 采购订单(D07)
  └─ 销售订单(D08)
```

---

## 五、业务规则汇总

| 规则类别 | 规则说明 | 影响模块 |
|---------|---------|---------|
| 数据权限 | 行级、列级、字段级权限控制 | 所有模块 |
| 审批流程 | 金额阈值、审批级别、会签规则 | 财务、采购、销售、人事 |
| 数据校验 | 必填项、格式校验、业务规则校验 | 所有模块 |
| 数据关联 | 级联删除、级联更新、引用完整性 | 所有模块 |
| 状态流转 | 审批状态、业务状态流转 | 工作流、订单、合同 |
| 多租户 | 租户数据隔离、租户共享数据 | 所有模块 |
| 审计日志 | 操作记录、数据变更记录 | 所有模块 |
| 数据归档 | 历史数据归档、冷热数据分离 | 财务、人事、库存 |

---

## 六、未来扩展

### 6.1 待规划业务域

| 领域名称 | 说明 | 优先级 |
|---------|------|--------|
| D18 生产管理 | 生产计划、生产执行、质量管理 | P2 |
| D19 项目管理 | 项目立项、项目执行、项目交付 | P2 |
| D20 客户关系管理 | 客户互动、客户分析、客户运营 | P2 |
| D21 工作流管理 | 流程设计、流程执行、流程监控 | P3 |
| D22 AI智能服务 | 智能问答、智能分析、智能推荐 | P3 |

---

**文档版本**: v1.0
**更新日期**: 20xx-xx-xx
