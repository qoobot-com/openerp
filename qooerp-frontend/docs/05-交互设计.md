# QooERP 统一前端工程 - 交互设计文档

> 文档版本: v1.0
> 创建日期: 2026-02-19
> 最后更新: 2026-02-19

---

## 一、设计理念

### 1.1 设计原则

| 原则 | 说明 | 示例 |
|------|------|------|
| **简洁性** | 界面简洁清晰,避免冗余 | 使用卡片分组,隐藏次要信息 |
| **一致性** | 交互模式保持一致 | 所有列表页使用相同的操作布局 |
| **可预测性** | 用户能预测操作结果 | 按钮状态明确,有hover反馈 |
| **效率性** | 减少操作步骤 | 批量操作、快捷键支持 |
| **可访问性** | 支持键盘导航 | Tab键导航、Enter确认 |
| **容错性** | 允许撤销操作 | 确认删除、数据备份 |

---

### 1.2 用户体验目标

- **响应时间**: 页面加载 < 2s, 接口响应 < 500ms
- **操作效率**: 常用操作 < 3 次点击
- **学习成本**: 新用户 5 分钟内掌握核心功能
- **错误率**: 操作错误率 < 5%
- **满意度**: 用户满意度评分 > 4.5/5

---

## 二、页面布局设计

### 2.1 主布局结构

```
┌─────────────────────────────────────────────────────────────────┐
│  Logo  │  侧边栏菜单  │  顶部导航栏  │  标签页  │  面包屑  │  内容区 │
│  64px  │   240px      │    64px      │   40px  │   32px   │   自适应  │
└─────────────────────────────────────────────────────────────────┘
```

---

### 2.2 侧边栏设计

**设计规范**:
- 宽度: 240px(展开) / 64px(折叠)
- 背景色: #f5f7fa
- 菜单项高度: 48px
- 图标大小: 20px
- 字体大小: 14px

**交互规则**:
- 点击展开/折叠
- 悬停显示提示(折叠时)
- 当前选中高亮
- 支持二级菜单展开

---

### 2.3 顶部导航设计

**布局**:
```
┌─────────────────────────────────────────────────────────────────┐
│  [菜单]  [面包屑]        [搜索]  [通知]  [用户]  [主题]  [语言] │
│   40px      剩余空间       40px   40px   48px   40px    40px    │
└─────────────────────────────────────────────────────────────────┘
```

**组件**:
- 折叠按钮: 切换侧边栏
- 面包屑: 显示当前路径
- 搜索框: 全局搜索
- 通知: 消息中心
- 用户: 用户菜单
- 主题: 明暗切换
- 语言: 语言切换

---

### 2.4 标签页设计

**功能**:
- 显示已打开的页面
- 支持关闭标签
- 支持固定标签
- 支持右键菜单(关闭其他/关闭左侧/关闭右侧)

---

### 2.5 内容区域设计

**标准页面结构**:
```
┌─────────────────────────────────────────────────────────────────┐
│  页面标题                            [操作按钮]                  │
│  48px                                                           │
├─────────────────────────────────────────────────────────────────┤
│  搜索区域(可折叠)                                                │
│  自动高度                                                       │
├─────────────────────────────────────────────────────────────────┤
│  数据表格 / 表单内容                                            │
│  剩余高度                                                       │
└─────────────────────────────────────────────────────────────────┘
```

---

## 三、组件交互设计

### 3.1 列表页交互

**页面结构**:
```
┌─────────────────────────────────────────────────────────────────┐
│  员工列表                              [新增] [导出] [导入]     │
├─────────────────────────────────────────────────────────────────┤
│  [搜索框] [状态] [部门]    [查询] [重置]                         │
├─────────────────────────────────────────────────────────────────┤
│  [批量删除] [批量导出]                                           │
├─────────────────────────────────────────────────────────────────┤
│  ☑  工号     姓名     部门     岗位     状态     操作          │
│  ☑  001      张三     技术部     工程师    正常    [查看][编辑]  │
│     002      李四     销售部     经理      正常    [查看][编辑]  │
└─────────────────────────────────────────────────────────────────┘
│                   [上一页] 1/10 [下一页]                        │
└─────────────────────────────────────────────────────────────────┘
```

**交互规则**:
1. **搜索**
   - 输入关键词后按 Enter 或点击查询按钮
   - 支持回车快捷键
   - 查询后列表刷新,分页重置

2. **排序**
   - 点击表头可排序
   - 支持升序/降序切换
   - 显示排序图标

3. **分页**
   - 默认每页 20 条
   - 支持切换每页条数(10/20/50/100)
   - 显示总记录数

4. **操作**
   - 鼠标悬停高亮
   - 点击行可查看详情
   - 操作按钮:查看、编辑、删除

5. **批量操作**
   - 勾选复选框选中
   - 全选/取消全选
   - 批量操作需确认

---

### 3.2 表单页交互

**页面结构**:
```
┌─────────────────────────────────────────────────────────────────┐
│  新增员工                              [取消] [保存]             │
├─────────────────────────────────────────────────────────────────┤
│  * 姓名: [________________]                                     │
│  * 工号: [________________]                                     │
│  * 手机: [________________]                                     │
│    邮箱: [________________]                                     │
│  * 部门: [选择部门_____] v                                      │
│  * 岗位: [选择岗位_____] v                                      │
│    状态: ( ) 正常  ( ) 禁用                                     │
├─────────────────────────────────────────────────────────────────┤
│  基础信息  |  职位信息  |  联系方式                             │
├─────────────────────────────────────────────────────────────────┤
│  * 为必填项                                                      │
└─────────────────────────────────────────────────────────────────┘
```

**交互规则**:
1. **输入**
   - 必填项带红色星号
   - 失去焦点时验证
   - 错误提示在字段下方

2. **选择**
   - 下拉选择、单选、多选
   - 搜索选择支持模糊搜索
   - 级联选择显示层级

3. **提交**
   - 点击保存验证全部字段
   - 验证通过后提交
   - 提交成功提示并跳转

4. **取消**
   - 弹出确认提示
   - 有修改数据时提示是否保存

---

### 3.3 详情页交互

**页面结构**:
```
┌─────────────────────────────────────────────────────────────────┐
│  员工详情                            [编辑] [关闭]               │
├─────────────────────────────────────────────────────────────────┤
│  [头像]                                                          │
│  张三                                                            │
│  工号: 001    部门: 技术部    岗位: 工程师                      │
├─────────────────────────────────────────────────────────────────┤
│  [基础信息] [职位信息] [联系方式] [合同信息]                     │
├─────────────────────────────────────────────────────────────────┤
│  姓名:    张三                                                   │
│  性别:    男                                                     │
│  出生日期: 1990-01-01                                            │
│  手机:    138****8888                                           │
│  邮箱:    zhangsan@example.com                                  │
│  入职日期: 2020-01-01                                           │
└─────────────────────────────────────────────────────────────────┘
```

**交互规则**:
- Tab 切换查看不同信息
- 点击编辑跳转到编辑页
- 敏感信息脱敏显示(手机号、身份证)

---

### 3.4 树形组件交互

**功能**:
- 展开/折叠节点
- 勾选节点(支持父子联动)
- 拖拽排序
- 右键菜单(新增、编辑、删除)

---

### 3.5 对话框交互

**确认对话框**:
```
┌─────────────────────────────────────────┐
│  提示                [X]                  │
├─────────────────────────────────────────┤
│  确认删除此数据吗?                       │
│  此操作不可恢复                          │
├─────────────────────────────────────────┤
│               [取消]  [确认]             │
└─────────────────────────────────────────┘
```

**表单对话框**:
```
┌─────────────────────────────────────────┐
│  新增部门                [X]             │
├─────────────────────────────────────────┤
│  * 部门名称: [________]                  │
│  * 上级部门: [选择_____] v               │
│    部门描述: [________________]          │
│             [________________]          │
├─────────────────────────────────────────┤
│               [取消]  [保存]             │
└─────────────────────────────────────────┘
```

---

## 四、反馈设计

### 4.1 加载反馈

**页面级加载**:
- 骨架屏(Skeleton)
- Loading Spinner
- 进度条

**操作级加载**:
- 按钮 Loading 状态
- 表单 Loading 遮罩

---

### 4.2 消息提示

| 类型 | 图标 | 背景色 | 使用场景 |
|------|------|--------|---------|
| 成功 | ✓ | #00a870 | 操作成功 |
| 信息 | i | #0052d9 | 一般提示 |
| 警告 | ! | #ed7b2f | 警告提示 |
| 错误 | ✗ | #e34d59 | 操作失败 |

---

### 4.3 状态反馈

**按钮状态**:
- 正常: 可点击
- 禁用: 灰色,不可点击
- 加载: Loading 图标,不可点击
- 悬停: 背景色加深

**输入框状态**:
- 正常: 边框 #d1d5db
- 聚焦: 边框 #0052d9
- 错误: 边框 #e34d59,红色提示

---

## 五、动画设计

### 5.1 过渡动画

```css
/* 页面切换动画 */
.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.2s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

/* 滑动动画 */
.slide-enter-active,
.slide-leave-active {
  transition: transform 0.3s ease;
}

.slide-enter-from {
  transform: translateX(100%);
}

.slide-leave-to {
  transform: translateX(-100%);
}
```

---

### 5.2 微交互

**按钮点击**:
```css
.button:active {
  transform: scale(0.98);
}
```

**悬停效果**:
```css
.button:hover {
  box-shadow: 0 2px 8px rgba(0, 82, 217, 0.2);
}
```

---

## 六、响应式设计

### 6.1 断点定义

| 断点名称 | 屏幕宽度 | 说明 |
|---------|---------|------|
| xs | < 640px | 手机竖屏 |
| sm | ≥ 640px | 手机横屏/小平板 |
| md | ≥ 768px | 平板 |
| lg | ≥ 1024px | 小型桌面 |
| xl | ≥ 1280px | 大型桌面 |

---

### 6.2 适配策略

**PC 端**:
- 完整功能展示
- 侧边栏固定显示
- 多列布局

**平板**:
- 精简功能
- 侧边栏可折叠
- 单列布局

**移动端**:
- 核心功能
- 侧边栏抽屉式
- 单列布局
- 触摸优化

---

## 七、无障碍设计

### 7.1 键盘导航

- Tab: 焦点切换
- Enter: 确认/提交
- Esc: 关闭弹窗/取消
- Space: 选中/取消
- 上下箭头: 选项选择

---

### 7.2 屏幕阅读器

```html
<!-- 为图片添加 alt 属性 -->
<img src="avatar.png" alt="用户头像" />

<!-- 为表单添加 label -->
<label for="username">用户名</label>
<input id="username" type="text" />

<!-- 使用语义化标签 -->
<nav>...</nav>
<main>...</main>
<aside>...</aside>
```

---

### 7.3 对比度

- 正常文字对比度 ≥ 4.5:1
- 大号文字对比度 ≥ 3:1
- 图标对比度 ≥ 3:1

---

## 八、快捷键设计

| 快捷键 | 功能 | 说明 |
|--------|------|------|
| Ctrl + F | 搜索 | 打开搜索框 |
| Ctrl + S | 保存 | 保存当前表单 |
| Ctrl + / | 搜索快捷键 | 显示快捷键列表 |
| Esc | 关闭 | 关闭弹窗/取消操作 |
| Enter | 确认 | 确认当前操作 |
| Delete | 删除 | 删除选中项 |
| F5 | 刷新 | 刷新当前页面 |
| Ctrl + Tab | 切换标签 | 切换到下一个标签 |
| Ctrl + W | 关闭标签 | 关闭当前标签 |

---

## 九、移动端交互

### 9.1 触摸手势

| 手势 | 功能 | 说明 |
|------|------|------|
| 点击 | 选择 | 点击选中项目 |
| 长按 | 上下文菜单 | 长按显示更多选项 |
| 滑动 | 翻页 | 左右滑动切换 |
| 双击 | 放大 | 双击放大图片 |
| 缩放 | 缩放 | 双指缩放内容 |

---

### 9.2 移动端优化

- 触摸目标 ≥ 44px × 44px
- 避免误触
- 支持下拉刷新
- 上拉加载更多
- 底部导航栏
- 返回按钮

---

## 十、错误处理交互

### 10.1 表单验证

```vue
<!-- 实时验证 -->
<t-input
  v-model="formData.username"
  @blur="validateField('username')"
  :status="errors.username ? 'error' : 'default'"
  :tips="errors.username"
/>
```

---

### 10.2 网络错误

```
┌─────────────────────────────────────────┐
│                                         │
│           [网络错误图标]                 │
│                                         │
│         网络连接失败,请检查网络          │
│                                         │
│              [重试]                     │
│                                         │
└─────────────────────────────────────────┘
```

---

### 10.3 404 页面

```
┌─────────────────────────────────────────┐
│                                         │
│           [404 图标]                    │
│                                         │
│         页面不存在或已被删除             │
│                                         │
│         [返回首页] [联系管理员]          │
│                                         │
└─────────────────────────────────────────┘
```

---

## 十一、主题设计

### 11.1 亮色主题

```scss
// 主色调
$primary-color: #0052d9;
$success-color: #00a870;
$warning-color: #ed7b2f;
$error-color: #e34d59;

// 中性色
$text-primary: #1f2937;
$text-regular: #4b5563;
$text-secondary: #9ca3af;

// 背景色
$bg-primary: #ffffff;
$bg-secondary: #f3f4f6;
$bg-tertiary: #e5e7eb;

// 边框色
$border-color: #d1d5db;
```

---

### 11.2 暗色主题

```scss
// 主色调
$primary-color: #3d7eff;
$success-color: #3cd278;
$warning-color: #f08d49;
$error-color: #e5576b;

// 中性色
$text-primary: #f9fafb;
$text-regular: #d1d5db;
$text-secondary: #6b7280;

// 背景色
$bg-primary: #1f2937;
$bg-secondary: #111827;
$bg-tertiary: #374151;

// 边框色
$border-color: #4b5563;
```

---

## 十二、图标设计

### 12.1 图标规范

- 尺寸: 16px / 20px / 24px / 32px
- 颜色: 继承或指定颜色
- 圆角: 2px
- 线宽: 1.5px / 2px

---

### 12.2 图标使用

```vue
<!-- TDesign 图标 -->
<t-icon name="home" size="20px" />
<t-icon name="user" theme="primary" />

<!-- 自定义图标 -->
<CustomIcon name="logo" size="32px" />
```

---

## 十三、字体设计

### 13.1 字体规范

| 用途 | 字体 | 字号 | 行高 | 字重 |
|------|------|------|------|------|
| 标题 | PingFang SC | 18px | 28px | 500 |
| 正文 | PingFang SC | 14px | 22px | 400 |
| 辅助 | PingFang SC | 12px | 20px | 400 |
| 标签 | PingFang SC | 14px | 20px | 500 |

---

### 13.2 字体栈

```scss
$font-family-base: -apple-system, BlinkMacSystemFont, 'PingFang SC',
  'Helvetica Neue', Arial, sans-serif;
```

---

**文档版本**: v1.0
**更新日期**: 2026-02-19
