# QooERP 统一前端工程 - 应用设计文档

> 文档版本: v1.0
> 创建日期: 20xx-xx-xx
> 最后更新: 20xx-xx-xx

---

## 一、应用架构设计

### 1.1 整体应用架构

```
┌─────────────────────────────────────────────────────────────────┐
│                         用户界面层                               │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
│  │   Web端      │  │  Desktop端    │  │  Mobile端    │          │
│  │  (浏览器)     │  │  (Electron)  │  │  (Capacitor) │          │
│  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘          │
│         │                  │                  │                   │
└─────────┼──────────────────┼──────────────────┼──────────────────┘
          │                  │                  │
          └──────────────────┼──────────────────┘
                             │
┌────────────────────────────▼──────────────────────────────────┐
│                        共享业务层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐      │
│  │Components│  │Composables│  │  Utils   │  │  Types   │      │
│  │  共享组件 │  │  共享逻辑  │  │ 工具函数  │  │ 类型定义  │      │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘      │
└────────────────────────────┬──────────────────────────────────┘
                             │
┌────────────────────────────▼──────────────────────────────────┐
│                        应用服务层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐      │
│  │  Router  │  │  Stores  │  │  Hooks   │  │   API    │      │
│  │  路由管理  │  │  状态管理  │  │ 业务钩子  │  │ 接口服务  │      │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘      │
└────────────────────────────┬──────────────────────────────────┘
                             │
┌────────────────────────────▼──────────────────────────────────┐
│                        基础设施层                               │
│  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐      │
│  │ HTTP     │  │ WebSocket│  │  Cache   │  │  Otel    │      │
│  │ HTTP请求  │  │ 长连接   │  │  缓存    │  │  监控    │      │
│  └──────────┘  └──────────┘  └──────────┘  └──────────┘      │
└────────────────────────────┬──────────────────────────────────┘
                             │
┌────────────────────────────▼──────────────────────────────────┐
│                        后端服务层                               │
│         API Gateway → 微服务集群 → 数据库/缓存                  │
└────────────────────────────────────────────────────────────────┘
```

---

### 1.2 应用分层设计

| 层级 | 职责 | 技术选型 | 文件位置 |
|------|------|---------|---------|
| 视图层 | 页面展示、用户交互 | Vue 3 Composition API | `src/views/` |
| 组件层 | 可复用UI组件 | TDesign + 自定义组件 | `src/components/` |
| 状态层 | 全局状态管理 | Pinia | `src/stores/` |
| 逻辑层 | 业务逻辑封装 | Composables/Hooks | `src/hooks/` |
| 服务层 | API接口封装 | Axios | `src/api/` |
| 路由层 | 路由配置、路由守卫 | Vue Router | `src/router/` |
| 工具层 | 工具函数、常量定义 | TypeScript | `src/utils/` |
| 样式层 | 样式管理 | SCSS | `src/assets/styles/` |

---

## 二、页面架构设计

### 2.1 页面类型定义

| 页面类型 | 路由模式 | 布局组件 | 特点 |
|---------|---------|---------|------|
| 独立页 | 独立路由 | 无布局(全屏) | 登录、注册、错误页 |
| 列表页 | `/module/entity` | MainLayout | 数据列表、查询、分页 |
| 详情页 | `/module/entity/detail/:id` | MainLayout | 单条数据完整信息 |
| 新增页 | `/module/entity/add` | MainLayout | 新增数据表单 |
| 编辑页 | `/module/entity/edit/:id` | MainLayout | 编辑数据表单 |
| 关联页 | `/module/entity/rel/:id` | MainLayout | 管理关联关系 |
| 树形页 | `/module/entity/tree` | MainLayout | 树形结构数据管理 |
| 流程页 | `/module/process/:id` | MainLayout | 流程审批、流程执行 |
| 报表页 | `/module/report/:id` | MainLayout | 报表展示、数据可视化 |
| 仪表盘 | `/module/dashboard/:id` | MainLayout | 数据可视化图表 |
| 地图页 | `/module/map/:id` | MainLayout | 地图展示、位置标记 |
| 日历页 | `/module/calendar/:id` | MainLayout | 日历视图、日程安排 |

---

### 2.2 标准页面结构

#### 2.2.1 列表页结构

```vue
<template>
  <t-layout class="list-page">
    <!-- 页面标题 -->
    <div class="page-header">
      <h2>{{ $t('module.entity.title') }}</h2>
      <div class="page-actions">
        <t-button theme="primary" @click="handleAdd">
          {{ $t('common.add') }}
        </t-button>
      </div>
    </div>

    <!-- 搜索区域 -->
    <t-card class="search-card">
      <t-form :data="searchForm" layout="inline" @submit="handleSearch">
        <!-- 搜索字段 -->
        <t-form-item label="名称">
          <t-input v-model="searchForm.name" />
        </t-form-item>
        <t-form-item>
          <t-button theme="primary" type="submit">查询</t-button>
          <t-button theme="default" @click="handleReset">重置</t-button>
        </t-form-item>
      </t-form>
    </t-card>

    <!-- 数据表格 -->
    <t-card class="table-card">
      <t-table
        :data="tableData"
        :columns="tableColumns"
        :loading="loading"
        :pagination="pagination"
        @page-change="handlePageChange"
      >
        <!-- 操作列 -->
        <template #operation="{ row }">
          <t-link theme="primary" @click="handleView(row)">查看</t-link>
          <t-link theme="primary" @click="handleEdit(row)">编辑</t-link>
          <t-popconfirm content="确认删除?" @confirm="handleDelete(row)">
            <t-link theme="danger">删除</t-link>
          </t-popconfirm>
        </template>
      </t-table>
    </t-card>
  </t-layout>
</template>

<script setup lang="ts">
import { ref, reactive, onMounted } from 'vue'
import { useI18n } from 'vue-i18n'
import { useRouter } from 'vue-router'

const { t } = useI18n()
const router = useRouter()

// 搜索表单
const searchForm = reactive({
  name: '',
  status: ''
})

// 表格数据
const tableData = ref([])
const loading = ref(false)

// 分页
const pagination = reactive({
  current: 1,
  pageSize: 20,
  total: 0
})

// 表格列定义
const tableColumns = [
  { colKey: 'name', title: '名称' },
  { colKey: 'status', title: '状态' },
  { colKey: 'createTime', title: '创建时间' },
  { colKey: 'operation', title: '操作' }
]

// 方法
const handleSearch = () => {}
const handleReset = () => {}
const handleAdd = () => {}
const handleView = (row: any) => {}
const handleEdit = (row: any) => {}
const handleDelete = (row: any) => {}
const handlePageChange = (page: number) => {}

onMounted(() => {
  // 加载数据
})
</script>
```

#### 2.2.2 表单页结构

```vue
<template>
  <t-layout class="form-page">
    <div class="page-header">
      <h2>{{ isEdit ? $t('common.edit') : $t('common.add') }}</h2>
      <div class="page-actions">
        <t-button theme="default" @click="handleCancel">取消</t-button>
        <t-button theme="primary" @click="handleSubmit">保存</t-button>
      </div>
    </div>

    <t-card>
      <t-form
        ref="formRef"
        :data="formData"
        :rules="formRules"
        label-width="120px"
      >
        <t-form-item label="名称" name="name">
          <t-input v-model="formData.name" placeholder="请输入名称" />
        </t-form-item>
        <t-form-item label="状态" name="status">
          <t-select v-model="formData.status">
            <t-option value="active">启用</t-option>
            <t-option value="inactive">禁用</t-option>
          </t-select>
        </t-form-item>
      </t-form>
    </t-card>
  </t-layout>
</template>

<script setup lang="ts">
import { ref, reactive, computed } from 'vue'
import { useRoute, useRouter } from 'vue-router'
import { MessagePlugin } from 'tdesign-vue-next'

const route = useRoute()
const router = useRouter()

const isEdit = computed(() => !!route.params.id)

const formRef = ref()
const formData = reactive({
  name: '',
  status: 'active'
})

const formRules = {
  name: [{ required: true, message: '请输入名称' }]
}

const handleCancel = () => {
  router.back()
}

const handleSubmit = async () => {
  const valid = await formRef.value.validate()
  if (valid) {
    // 提交数据
    MessagePlugin.success('保存成功')
    router.back()
  }
}
</script>
```

---

### 2.3 布局组件设计

#### 2.3.1 主布局 (MainLayout)

```vue
<template>
  <t-layout class="main-layout">
    <!-- 侧边栏 -->
    <t-aside class="layout-aside">
      <div class="logo">QooERP</div>
      <t-menu :value="activeMenu" @change="handleMenuChange">
        <t-menu-item value="home">
          <template #icon><t-icon name="home" /></template>
          首页
        </t-menu-item>
        <!-- 递归渲染菜单 -->
        <sub-menu v-for="menu in menuTree" :key="menu.id" :menu="menu" />
      </t-menu>
    </t-aside>

    <!-- 主体内容 -->
    <t-layout>
      <!-- 顶部导航 -->
      <t-header class="layout-header">
        <div class="header-left">
          <t-button variant="text" @click="toggleSidebar">
            <t-icon name="menu" />
          </t-button>
          <t-breadcrumb>
            <t-breadcrumb-item v-for="item in breadcrumbs" :key="item.path">
              {{ item.title }}
            </t-breadcrumb-item>
          </t-breadcrumb>
        </div>
        <div class="header-right">
          <!-- 通知 -->
          <t-dropdown>
            <t-badge :count="unreadCount">
              <t-button variant="text">
                <t-icon name="notification" />
              </t-button>
            </t-badge>
            <t-dropdown-menu>
              <t-dropdown-item>通知消息</t-dropdown-item>
              <t-dropdown-item>系统公告</t-dropdown-item>
            </t-dropdown-menu>
          </t-dropdown>

          <!-- 用户菜单 -->
          <t-dropdown>
            <div class="user-info">
              <t-avatar :image="user.avatar" />
              <span>{{ user.name }}</span>
            </div>
            <t-dropdown-menu>
              <t-dropdown-item @click="goToProfile">个人中心</t-dropdown-item>
              <t-dropdown-item @click="handleLogout">退出登录</t-dropdown-item>
            </t-dropdown-menu>
          </t-dropdown>

          <!-- 语言切换 -->
          <t-dropdown>
            <t-button variant="text">{{ currentLanguage }}</t-button>
            <t-dropdown-menu>
              <t-dropdown-item @click="changeLanguage('zh-CN')">简体中文</t-dropdown-item>
              <t-dropdown-item @click="changeLanguage('en-US')">English</t-dropdown-item>
            </t-dropdown-menu>
          </t-dropdown>

          <!-- 主题切换 -->
          <t-switch v-model="isDarkMode" @change="toggleTheme" />
        </div>
      </t-header>

      <!-- 标签页 -->
      <t-tabs class="layout-tabs" v-model="activeTab" @remove="removeTab">
        <t-tab-panel
          v-for="tab in tabs"
          :key="tab.path"
          :value="tab.path"
          :label="tab.title"
          :closable="tab.closable"
          @click="goToTab(tab.path)"
        />
      </t-tabs>

      <!-- 页面内容 -->
      <t-content class="layout-content">
        <router-view v-slot="{ Component }">
          <transition name="fade" mode="out-in">
            <component :is="Component" />
          </transition>
        </router-view>
      </t-content>
    </t-layout>
  </t-layout>
</template>
```

#### 2.3.2 空白布局 (BlankLayout)

```vue
<template>
  <div class="blank-layout">
    <router-view />
  </div>
</template>
```

---

## 三、路由设计

### 3.1 路由结构

```
/
├── /auth                     # 认证模块(无需布局)
│   ├── /login               # 登录
│   ├── /register            # 注册
│   ├── /forgot-password     # 忘记密码
│   └── /mfa-verify          # MFA验证
│
├── /system                   # 系统管理
│   ├── /params              # 系统参数
│   ├── /configs             # 系统配置
│   ├── /dictionaries        # 数据字典
│   ├── /menus               # 菜单管理
│   ├── /logs                # 系统日志
│   └── /backup              # 备份管理
│
├── /auth                     # 权限管理
│   ├── /permissions         # 权限列表
│   ├── /roles               # 角色列表
│   └── /users               # 用户列表
│
├── /org                      # 组织架构
│   ├── /units               # 组织单元
│   ├── /departments         # 部门管理
│   ├── /positions           # 岗位管理
│   └── /ranks               # 职级管理
│
├── /hr                       # 人力资源
│   ├── /employees           # 员工管理
│   ├── /leave               # 请假管理
│   ├── /attendance          # 考勤管理
│   ├── /salary              # 薪酬管理
│   ├── /performance         # 绩效管理
│   └── /recruitment         # 招聘管理
│
├── /fin                      # 财务管理
│   ├── /accounts            # 会计科目
│   ├── /vouchers            # 凭证管理
│   ├── /receivable          # 应收管理
│   ├── /payable             # 应付管理
│   ├── /assets              # 固定资产
│   ├── /budget              # 预算管理
│   ├── /fund                # 资金管理
│   └── /reports             # 财务报表
│
├── /scm                      # 供应链
│   ├── /suppliers           # 供应商管理
│   ├── /purchase-orders     # 采购订单
│   └── /logistics           # 物流管理
│
├── /sales                    # 销售管理
│   ├── /customers           # 客户管理
│   ├── /orders              # 销售订单
│   ├── /delivery            # 销售发货
│   └── /invoice             # 销售开票
│
├── /inventory               # 库存管理
│   ├── /materials           # 物料管理
│   ├── /stock               # 库存查询
│   ├── /inbound             # 入库管理
│   └── /outbound            # 出库管理
│
├── /report                   # 报表分析
│   ├── /templates           # 报表模板
│   ├── /designer            # 报表设计器
│   ├── /dashboards          # 仪表盘
│   └── /analysis            # 数据分析
│
├── /404                      # 404页面
└── /500                      # 500页面
```

---

### 3.2 路由守卫

```typescript
// src/router/guards.ts
import type { Router } from 'vue-router'
import { useAuthStore } from '@/stores/auth'
import { useUserStore } from '@/stores/user'

export function setupRouterGuards(router: Router) {
  // 全局前置守卫
  router.beforeEach(async (to, from, next) => {
    const authStore = useAuthStore()
    const userStore = useUserStore()

    // 白名单路径(无需登录)
    const whiteList = ['/login', '/register', '/forgot-password']

    if (whiteList.includes(to.path)) {
      next()
      return
    }

    // 检查登录状态
    if (!authStore.isAuthenticated) {
      next({ path: '/login', query: { redirect: to.fullPath } })
      return
    }

    // 检查用户信息
    if (!userStore.userInfo) {
      try {
        await userStore.fetchUserInfo()
      } catch (error) {
        authStore.logout()
        next({ path: '/login' })
        return
      }
    }

    // 检查路由权限
    if (to.meta.permission) {
      const hasPermission = userStore.hasPermission(to.meta.permission as string)
      if (!hasPermission) {
        next({ path: '/403' })
        return
      }
    }

    next()
  })

  // 全局后置钩子
  router.afterEach((to) => {
    // 设置页面标题
    document.title = `${to.meta.title || 'QooERP'} - ERP System`

    // 上报页面访问
    reportPageView(to.path)
  })
}
```

---

## 四、状态管理设计

### 4.1 Store 模块划分

```
stores/
├── index.ts              # Store 入口
├── modules/
│   ├── auth.ts          # 认证状态
│   ├── user.ts          # 用户状态
│   ├── permission.ts    # 权限状态
│   ├── menu.ts          # 菜单状态
│   ├── tenant.ts        # 租户状态
│   ├── dictionary.ts    # 字典状态
│   ├── settings.ts      # 系统设置
│   └── [module].ts      # 各业务模块状态
```

---

### 4.2 核心 Store 示例

#### 4.2.1 Auth Store

```typescript
// src/stores/modules/auth.ts
import { defineStore } from 'pinia'
import { login as loginApi, logout as logoutApi } from '@/api/auth'
import type { LoginParams, LoginResult } from '@/types/auth'

interface AuthState {
  token: string
  refreshToken: string
  isAuthenticated: boolean
  loginTime: number
}

export const useAuthStore = defineStore('auth', {
  state: (): AuthState => ({
    token: '',
    refreshToken: '',
    isAuthenticated: false,
    loginTime: 0
  }),

  getters: {
    // 判断 Token 是否过期
    isTokenExpired: (state) => {
      const TOKEN_EXPIRE_TIME = 2 * 60 * 60 * 1000 // 2小时
      return Date.now() - state.loginTime > TOKEN_EXPIRE_TIME
    }
  },

  actions: {
    // 登录
    async login(params: LoginParams) {
      const result: LoginResult = await loginApi(params)
      this.token = result.token
      this.refreshToken = result.refreshToken
      this.isAuthenticated = true
      this.loginTime = Date.now()

      // 存储 Token
      localStorage.setItem('token', result.token)
      localStorage.setItem('refreshToken', result.refreshToken)
    },

    // 登出
    async logout() {
      await logoutApi()
      this.token = ''
      this.refreshToken = ''
      this.isAuthenticated = false
      this.loginTime = 0

      // 清除存储
      localStorage.removeItem('token')
      localStorage.removeItem('refreshToken')
    },

    // 刷新 Token
    async refreshToken() {
      const result: LoginResult = await refreshApi(this.refreshToken)
      this.token = result.token
      this.loginTime = Date.now()
      localStorage.setItem('token', result.token)
    }
  },

  persist: {
    enabled: true,
    strategies: [
      {
        key: 'auth',
        storage: localStorage
      }
    ]
  }
})
```

#### 4.2.2 Permission Store

```typescript
// src/stores/modules/permission.ts
import { defineStore } from 'pinia'
import { fetchPermissions as fetchPermissionsApi } from '@/api/permission'

interface PermissionState {
  permissions: string[]
  roles: string[]
  routes: RouteRecordRaw[]
}

export const usePermissionStore = defineStore('permission', {
  state: (): PermissionState => ({
    permissions: [],
    roles: [],
    routes: []
  }),

  getters: {
    // 检查是否有权限
    hasPermission: (state) => (permission: string | string[]) => {
      if (Array.isArray(permission)) {
        return permission.some(p => state.permissions.includes(p))
      }
      return state.permissions.includes(permission)
    },

    // 检查是否有角色
    hasRole: (state) => (role: string | string[]) => {
      if (Array.isArray(role)) {
        return role.some(r => state.roles.includes(r))
      }
      return state.roles.includes(role)
    }
  },

  actions: {
    // 获取用户权限
    async fetchPermissions() {
      const result = await fetchPermissionsApi()
      this.permissions = result.permissions
      this.roles = result.roles
    }
  }
})
```

---

## 五、组件设计规范

### 5.1 组件分类

| 组件类别 | 存放位置 | 说明 | 示例 |
|---------|---------|------|------|
| 布局组件 | `src/components/layout/` | 页面布局结构 | MainLayout, Sidebar, Header |
| 通用组件 | `src/components/common/` | 业务无关的可复用组件 | Table, Form, SearchCard |
| 业务组件 | `src/components/business/` | 业务相关组件 | UserSelect, OrgTree, SupplierPicker |
| 表单组件 | `src/components/form/` | 表单相关组件 | DatePicker, Upload, RichText |
| 展示组件 | `src/components/display/` | 数据展示组件 | StatusTag, AmountDisplay |

---

### 5.2 组件命名规范

- **PascalCase**: 组件文件名
- **kebab-case**: 模板中使用
- **use 前缀**: Composables
- **v- 前缀**: 自定义指令

---

### 5.3 组件通信

```typescript
// 父子组件通信
// 父组件
<ChildComponent
  :value="parentValue"
  @update:value="handleUpdate"
  @custom-event="handleCustomEvent"
/>

// 子组件
defineProps<{
  value: string
}>()

const emit = defineEmits<{
  'update:value': [value: string]
  'custom-event': [data: any]
}>()

// 兄弟组件通信
// 使用 Event Bus 或 Provide/Inject

// 跨层级通信
// 使用 Pinia Store
```

---

## 六、主题与样式设计

### 6.1 主题配置

```scss
// src/assets/styles/variables.scss
// 主题色
$brand-color: #0052d9;
$success-color: #00a870;
$warning-color: #ed7b2f;
$error-color: #e34d59;

// 文字颜色
$text-primary: #1f2937;
$text-regular: #4b5563;
$text-secondary: #9ca3af;
$text-placeholder: #d1d5db;

// 背景色
$bg-primary: #ffffff;
$bg-secondary: #f3f4f6;
$bg-tertiary: #e5e7eb;

// 边框色
$border-color: #d1d5db;
$border-color-light: #e5e7eb;

// 间距
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;

// 圆角
$border-radius-sm: 4px;
$border-radius-md: 8px;
$border-radius-lg: 12px;

// 字体
$font-size-xs: 12px;
$font-size-sm: 14px;
$font-size-md: 16px;
$font-size-lg: 18px;
$font-size-xl: 20px;
```

---

### 6.2 暗黑主题支持

```typescript
// src/hooks/useTheme.ts
import { ref } from 'vue'
import { useLocalStorage } from '@vueuse/core'

const isDarkMode = useLocalStorage('theme-dark', false)

export function useTheme() {
  const toggleTheme = () => {
    isDarkMode.value = !isDarkMode.value
    document.documentElement.classList.toggle('dark', isDarkMode.value)
  }

  const initTheme = () => {
    if (isDarkMode.value) {
      document.documentElement.classList.add('dark')
    }
  }

  return {
    isDarkMode,
    toggleTheme,
    initTheme
  }
}
```

---

## 七、国际化设计

### 7.1 语言包结构

```
locales/
├── zh-CN/
│   ├── common.json
│   ├── auth.json
│   ├── system.json
│   ├── hr.json
│   ├── fin.json
│   └── ...
└── en-US/
    ├── common.json
    ├── auth.json
    ├── system.json
    ├── hr.json
    ├── fin.json
    └── ...
```

---

### 7.2 国际化配置

```typescript
// src/plugins/i18n.ts
import { createI18n } from 'vue-i18n'
import zhCN from '@/locales/zh-CN'
import enUS from '@/locales/en-US'

const i18n = createI18n({
  legacy: false,
  locale: localStorage.getItem('language') || 'zh-CN',
  fallbackLocale: 'zh-CN',
  messages: {
    'zh-CN': zhCN,
    'en-US': enUS
  }
})

export default i18n
```

---

## 八、性能优化策略

### 8.1 路由懒加载

```typescript
const routes = [
  {
    path: '/auth/login',
    component: () => import('@/views/auth/Login.vue')
  },
  {
    path: '/system/params',
    component: () => import('@/views/system/Params.vue')
  }
]
```

---

### 8.2 组件懒加载

```vue
<template>
  <div>
    <AsyncComponent v-if="showComponent" />
  </div>
</template>

<script setup lang="ts">
import { defineAsyncComponent } from 'vue'

const AsyncComponent = defineAsyncComponent(() =>
  import('./HeavyComponent.vue')
)
</script>
```

---

### 8.3 虚拟列表

```vue
<template>
  <t-virtual-list
    :data="largeData"
    :item-size="50"
    :buffer-size="10"
  >
    <template #default="{ item }">
      <div>{{ item.name }}</div>
    </template>
  </t-virtual-list>
</template>
```

---

## 九、错误处理

### 9.1 全局错误处理

```typescript
// src/plugins/errorHandler.ts
import { MessagePlugin } from 'tdesign-vue-next'

export function setupErrorHandler(app: App) {
  // Vue 错误
  app.config.errorHandler = (err, vm, info) => {
    console.error('Vue Error:', err)
    MessagePlugin.error('系统错误,请稍后重试')
    // 上报错误
    reportError(err)
  }

  // Promise 错误
  window.addEventListener('unhandledrejection', (event) => {
    console.error('Promise Rejection:', event.reason)
    MessagePlugin.error('操作失败')
    event.preventDefault()
  })

  // 全局网络错误
  axios.interceptors.response.use(
    (response) => response,
    (error) => {
      if (error.response?.status === 401) {
        // Token 过期
        redirectToLogin()
      } else if (error.response?.status === 403) {
        MessagePlugin.error('无权限访问')
      } else {
        MessagePlugin.error(error.message || '请求失败')
      }
      return Promise.reject(error)
    }
  )
}
```

---

## 十、移动端适配

### 10.1 响应式设计

```scss
// src/assets/styles/responsive.scss
// 断点
$breakpoint-xs: 480px;
$breakpoint-sm: 640px;
$breakpoint-md: 768px;
$breakpoint-lg: 1024px;
$breakpoint-xl: 1280px;

// Mixin
@mixin respond-to($breakpoint) {
  @if $breakpoint == xs {
    @media (max-width: $breakpoint-xs) { @content; }
  }
  @if $breakpoint == sm {
    @media (max-width: $breakpoint-sm) { @content; }
  }
  @if $breakpoint == md {
    @media (max-width: $breakpoint-md) { @content; }
  }
  @if $breakpoint == lg {
    @media (max-width: $breakpoint-lg) { @content; }
  }
  @if $breakpoint == xl {
    @media (max-width: $breakpoint-xl) { @content; }
  }
}
```

---

### 10.2 移动端组件适配

```typescript
// shared/components/AdaptiveButton.vue
<template>
  <component
    :is="isMobile ? MobileButton : DesktopButton"
    v-bind="$attrs"
  >
    <slot />
  </component>
</template>

<script setup lang="ts">
import { computed } from 'vue'
import { useBreakpoints } from '@vueuse/core'

const breakpoints = useBreakpoints({
  mobile: 768
})

const isMobile = breakpoints.smaller('mobile')
</script>
```

---

**文档版本**: v1.0
**更新日期**: 20xx-xx-xx
