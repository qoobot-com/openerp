# QooERP 人力资源管理 - 数据设计文档

> 版本：v1.0
> 创建日期：2026-02-17
> 服务名称：qooerp-hr
> 数据库：qooerp_hr

---

## 一、数据库概述

### 1.1 数据库信息

| 属性 | 值 |
|------|-----|
| 数据库名称 | qooerp_hr |
| 字符集 | utf8mb4 |
| 排序规则 | utf8mb4_unicode_ci |
| 引擎 | InnoDB |

### 1.2 表清单

| 序号 | 表名 | 说明 |
|------|------|------|
| 1 | hr_employee | 员工表 |
| 2 | hr_employee_education | 员工教育经历表 |
| 3 | hr_employee_experience | 员工工作经历表 |
| 4 | hr_attendance | 考勤记录表 |
| 5 | hr_leave | 请假记录表 |
| 6 | hr_overtime | 加班记录表 |
| 7 | hr_business_trip | 出差记录表 |
| 8 | hr_salary | 薪资记录表 |
| 9 | hr_salary_item | 薪资项目表 |
| 10 | hr_performance_plan | 绩效考核计划表 |
| 11 | hr_performance_assessment | 绩效评估表 |

---

## 二、数据表设计

### 2.1 hr_employee（员工表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| employee_code | VARCHAR | 32 | NO | - | 员工编号 |
| user_id | BIGINT | 20 | YES | NULL | 用户ID |
| employee_name | VARCHAR | 64 | NO | - | 员工姓名 |
| gender | CHAR | 1 | NO | - | 性别（M/F） |
| birth_date | DATE | - | YES | NULL | 出生日期 |
| phone_number | VARCHAR | 20 | YES | NULL | 手机号 |
| email | VARCHAR | 128 | YES | NULL | 邮箱 |
| id_card | VARCHAR | 32 | YES | NULL | 身份证号 |
| organization_id | BIGINT | 20 | YES | NULL | 组织ID |
| department_id | BIGINT | 20 | YES | NULL | 部门ID |
| position_id | BIGINT | 20 | YES | NULL | 岗位ID |
| hire_date | DATE | - | YES | NULL | 入职日期 |
| status | VARCHAR | 20 | NO | ACTIVE | 员工状态 |
| employee_type | VARCHAR | 20 | NO | FULLTIME | 员工类型 |
| work_number | VARCHAR | 32 | YES | NULL | 工号 |
| education | VARCHAR | 20 | YES | NULL | 学历 |
| marital_status | VARCHAR | 20 | YES | NULL | 婚姻状况 |
| political_status | VARCHAR | 20 | YES | NULL | 政治面貌 |
| registered_address | VARCHAR | 256 | YES | NULL | 户籍地址 |
| current_address | VARCHAR | 256 | YES | NULL | 现住址 |
| emergency_contact | VARCHAR | 64 | YES | NULL | 紧急联系人 |
| emergency_phone | VARCHAR | 20 | YES | NULL | 紧急联系电话 |
| remark | VARCHAR | 512 | YES | NULL | 备注 |
| extend_info | TEXT | - | YES | NULL | 扩展信息JSON |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_employee_code (tenant_id, employee_code)
KEY idx_user_id (user_id)
KEY idx_department_id (department_id)
KEY idx_position_id (position_id)
KEY idx_status (status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- status: ACTIVE(在职), INACTIVE(停薪留职), TERMINATED(离职), LEAVE(休假)
- employee_type: FULLTIME(全职), PARTTIME(兼职), CONTRACT(合同工), INTERN(实习生)
- gender: M(男), F(女)
- education: BACHELOR(本科), MASTER(硕士), DOCTOR(博士), COLLEGE(大专), HIGH_SCHOOL(高中)

---

### 2.2 hr_employee_education（员工教育经历表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| school_name | VARCHAR | 128 | NO | - | 学校名称 |
| education | VARCHAR | 20 | YES | NULL | 学历 |
| degree | VARCHAR | 64 | YES | NULL | 学位 |
| major | VARCHAR | 128 | YES | NULL | 专业 |
| start_date | DATE | - | YES | NULL | 入学时间 |
| end_date | DATE | - | YES | NULL | 毕业时间 |
| is_full_time | TINYINT | 1 | NO | 1 | 是否全日制 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |

**索引：**
```sql
PRIMARY KEY (id)
KEY idx_employee_id (employee_id)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

---

### 2.3 hr_employee_experience（员工工作经历表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| company_name | VARCHAR | 128 | NO | - | 公司名称 |
| department | VARCHAR | 64 | YES | NULL | 部门 |
| position | VARCHAR | 64 | YES | NULL | 岗位 |
| start_date | DATE | - | YES | NULL | 入职时间 |
| end_date | DATE | - | YES | NULL | 离职时间 |
| leave_reason | VARCHAR | 256 | YES | NULL | 离职原因 |
| job_description | TEXT | - | YES | NULL | 工作内容 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |

**索引：**
```sql
PRIMARY KEY (id)
KEY idx_employee_id (employee_id)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

---

### 2.4 hr_attendance（考勤记录表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| attendance_date | DATE | - | NO | - | 考勤日期 |
| check_in_type | VARCHAR | 20 | NO | - | 打卡类型 |
| check_time | DATETIME | - | NO | - | 打卡时间 |
| location | VARCHAR | 256 | YES | NULL | 打卡地点 |
| check_method | VARCHAR | 20 | YES | NULL | 打卡方式 |
| device_id | VARCHAR | 64 | YES | NULL | 设备ID |
| device_ip | VARCHAR | 64 | YES | NULL | 设备IP |
| remark | VARCHAR | 512 | YES | NULL | 备注 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |

**索引：**
```sql
PRIMARY KEY (id)
KEY idx_employee_date (employee_id, attendance_date)
KEY idx_check_time (check_time)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- check_in_type: CHECK_IN(上班打卡), CHECK_OUT(下班打卡), OUT_GOING(外出打卡)
- check_method: APP(APP打卡), CARD(刷卡), FACE(人脸识别), LOCATION(定位打卡)

---

### 2.5 hr_leave（请假记录表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| leave_code | VARCHAR | 32 | NO | - | 请假编号 |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| leave_type | VARCHAR | 20 | NO | - | 请假类型 |
| start_date | DATE | - | NO | - | 开始日期 |
| end_date | DATE | - | NO | - | 结束日期 |
| leave_days | DECIMAL | 10,2 | NO | 0 | 请假天数 |
| reason | VARCHAR | 512 | YES | NULL | 请假原因 |
| approver_id | BIGINT | 20 | YES | NULL | 审批人ID |
| approval_status | VARCHAR | 20 | NO | PENDING | 审批状态 |
| approval_time | DATETIME | - | YES | NULL | 审批时间 |
| approval_comment | VARCHAR | 512 | YES | NULL | 审批意见 |
| attachment_id | BIGINT | 20 | YES | NULL | 附件ID |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_leave_code (tenant_id, leave_code)
KEY idx_employee_id (employee_id)
KEY idx_approver_id (approver_id)
KEY idx_approval_status (approval_status)
KEY idx_date_range (start_date, end_date)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- leave_type: ANNUAL(年假), SICK(病假), PERSONAL(事假), MATERNITY(产假), PATERNITY(陪产假), FUNERAL(丧假)
- approval_status: PENDING(待审批), APPROVED(已批准), REJECTED(已拒绝), CANCELLED(已取消)

---

### 2.6 hr_overtime（加班记录表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| overtime_code | VARCHAR | 32 | NO | - | 加班编号 |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| overtime_type | VARCHAR | 20 | NO | - | 加班类型 |
| overtime_date | DATE | - | NO | - | 加班日期 |
| start_time | DATETIME | - | NO | - | 开始时间 |
| end_time | DATETIME | - | NO | - | 结束时间 |
| overtime_hours | DECIMAL | 10,2 | NO | 0 | 加班时长（小时） |
| reason | VARCHAR | 512 | YES | NULL | 加班原因 |
| approver_id | BIGINT | 20 | YES | NULL | 审批人ID |
| approval_status | VARCHAR | 20 | NO | PENDING | 审批状态 |
| approval_time | DATETIME | - | YES | NULL | 审批时间 |
| approval_comment | VARCHAR | 512 | YES | NULL | 审批意见 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_overtime_code (tenant_id, overtime_code)
KEY idx_employee_id (employee_id)
KEY idx_overtime_date (overtime_date)
KEY idx_approver_id (approver_id)
KEY idx_approval_status (approval_status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- overtime_type: WEEKDAY(工作日), WEEKEND(周末), HOLIDAY(法定节假日)
- approval_status: PENDING(待审批), APPROVED(已批准), REJECTED(已拒绝), CANCELLED(已取消)

---

### 2.7 hr_business_trip（出差记录表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| trip_code | VARCHAR | 32 | NO | - | 出差编号 |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| destination | VARCHAR | 256 | NO | - | 出差地点 |
| purpose | VARCHAR | 512 | YES | NULL | 出差目的 |
| start_date | DATE | - | NO | - | 开始日期 |
| end_date | DATE | - | NO | - | 结束日期 |
| trip_days | DECIMAL | 10,2 | NO | 0 | 出差天数 |
| budget_amount | DECIMAL | 18,2 | YES | 0 | 预算金额 |
| actual_amount | DECIMAL | 18,2 | YES | 0 | 实际金额 |
| approver_id | BIGINT | 20 | YES | NULL | 审批人ID |
| approval_status | VARCHAR | 20 | NO | PENDING | 审批状态 |
| approval_time | DATETIME | - | YES | NULL | 审批时间 |
| approval_comment | VARCHAR | 512 | YES | NULL | 审批意见 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_trip_code (tenant_id, trip_code)
KEY idx_employee_id (employee_id)
KEY idx_date_range (start_date, end_date)
KEY idx_approver_id (approver_id)
KEY idx_approval_status (approval_status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

---

### 2.8 hr_salary（薪资记录表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| salary_code | VARCHAR | 32 | NO | - | 薪资编号 |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| salary_month | VARCHAR | 7 | NO | - | 薪资月份（YYYY-MM） |
| base_salary | DECIMAL | 18,2 | NO | 0 | 基本工资 |
| position_salary | DECIMAL | 18,2 | NO | 0 | 岗位工资 |
| performance_salary | DECIMAL | 18,2 | NO | 0 | 绩效工资 |
| overtime_pay | DECIMAL | 18,2 | NO | 0 | 加班费 |
| bonus | DECIMAL | 18,2 | NO | 0 | 奖金 |
| allowance | DECIMAL | 18,2 | NO | 0 | 补贴 |
| gross_salary | DECIMAL | 18,2 | NO | 0 | 应发工资 |
| leave_deduction | DECIMAL | 18,2 | NO | 0 | 请假扣款 |
| social_insurance_personal | DECIMAL | 18,2 | NO | 0 | 社保个人 |
| housing_fund_personal | DECIMAL | 18,2 | NO | 0 | 公积金个人 |
| income_tax | DECIMAL | 18,2 | NO | 0 | 个税 |
| other_deduction | DECIMAL | 18,2 | NO | 0 | 其他扣款 |
| net_salary | DECIMAL | 18,2 | NO | 0 | 实发工资 |
| payment_status | VARCHAR | 20 | NO | PENDING | 发放状态 |
| payment_date | DATE | - | YES | NULL | 发放日期 |
| remark | VARCHAR | 512 | YES | NULL | 备注 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_salary_code (tenant_id, salary_code)
KEY idx_employee_month (employee_id, salary_month)
KEY idx_salary_month (salary_month)
KEY idx_payment_status (payment_status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- payment_status: PENDING(待发放), PAID(已发放), CANCELLED(已取消)

---

### 2.9 hr_salary_item（薪资项目表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| item_code | VARCHAR | 32 | NO | - | 项目编码 |
| item_name | VARCHAR | 64 | NO | - | 项目名称 |
| item_type | VARCHAR | 20 | NO | - | 项目类型 |
| item_category | VARCHAR | 20 | NO | - | 项目分类 |
| calculation_method | VARCHAR | 20 | NO | FIXED | 计算方式 |
| formula | TEXT | - | YES | NULL | 计算公式 |
| default_value | DECIMAL | 18,2 | YES | 0 | 默认值 |
| is_enabled | TINYINT | 1 | NO | 1 | 是否启用 |
| sort_order | INT | 11 | NO | 0 | 排序号 |
| remark | VARCHAR | 512 | YES | NULL | 备注 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_item_code (tenant_id, item_code)
KEY idx_item_type (item_type)
KEY idx_item_category (item_category)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- item_type: ADD(加项), DEDUCT(减项)
- item_category: BASE(基本工资), POSITION(岗位工资), PERFORMANCE(绩效工资), OVERTIME(加班费), BONUS(奖金), ALLOWANCE(补贴), LEAVE(请假扣款), TAX(个税), OTHER(其他)
- calculation_method: FIXED(固定值), FORMULA(公式计算), PERCENTAGE(百分比)

---

### 2.10 hr_performance_plan（绩效考核计划表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| plan_code | VARCHAR | 32 | NO | - | 计划编号 |
| plan_name | VARCHAR | 128 | NO | - | 计划名称 |
| period_type | VARCHAR | 20 | NO | - | 考核周期 |
| year | INT | 4 | NO | - | 考核年份 |
| quarter | INT | 1 | YES | NULL | 考核季度 |
| month | INT | 2 | YES | NULL | 考核月份 |
| start_date | DATE | - | NO | - | 开始日期 |
| end_date | DATE | - | NO | - | 结束日期 |
| self_assessment_start | DATE | - | YES | NULL | 自评开始日期 |
| self_assessment_end | DATE | - | YES | NULL | 自评结束日期 |
| supervisor_assessment_start | DATE | - | YES | NULL | 上评开始日期 |
| supervisor_assessment_end | DATE | - | YES | NULL | 上评结束日期 |
| status | VARCHAR | 20 | NO | DRAFT | 计划状态 |
| remark | VARCHAR | 512 | YES | NULL | 备注 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_plan_code (tenant_id, plan_code)
KEY idx_period (year, quarter, month)
KEY idx_date_range (start_date, end_date)
KEY idx_status (status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- period_type: MONTHLY(月度), QUARTERLY(季度), YEARLY(年度)
- status: DRAFT(草稿), PUBLISHED(已发布), IN_PROGRESS(进行中), COMPLETED(已完成), CANCELLED(已取消)

---

### 2.11 hr_performance_assessment（绩效评估表）

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | BIGINT | 20 | NO | - | 主键ID |
| tenant_id | BIGINT | 20 | NO | 0 | 租户ID |
| assessment_code | VARCHAR | 32 | NO | - | 评估编号 |
| plan_id | BIGINT | 20 | NO | - | 计划ID |
| employee_id | BIGINT | 20 | NO | - | 员工ID |
| assessor_id | BIGINT | 20 | NO | - | 评估人ID |
| assessment_type | VARCHAR | 20 | NO | - | 评估类型 |
| self_score | DECIMAL | 5,2 | YES | NULL | 自评分 |
| supervisor_score | DECIMAL | 5,2 | YES | NULL | 上评分 |
| peer_score | DECIMAL | 5,2 | YES | NULL | 同事评分 |
| subordinate_score | DECIMAL | 5,2 | YES | NULL | 下属评分 |
| total_score | DECIMAL | 5,2 | YES | NULL | 综合得分 |
| grade | CHAR | 1 | YES | NULL | 绩效等级 |
| comment | TEXT | - | YES | NULL | 评估意见 |
| improvement_suggestion | TEXT | - | YES | NULL | 改进建议 |
| assessment_date | DATE | - | YES | NULL | 评估日期 |
| approver_id | BIGINT | 20 | YES | NULL | 审批人ID |
| approval_status | VARCHAR | 20 | NO | PENDING | 审批状态 |
| approval_time | DATETIME | - | YES | NULL | 审批时间 |
| created_by | BIGINT | 20 | YES | NULL | 创建人ID |
| create_time | DATETIME | - | YES | CURRENT_TIMESTAMP | 创建时间 |
| updated_by | BIGINT | 20 | YES | NULL | 更新人ID |
| update_time | DATETIME | - | YES | CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP | 更新时间 |
| deleted | TINYINT | 1 | NO | 0 | 删除标记 |
| version | INT | 11 | NO | 0 | 版本号 |

**索引：**
```sql
PRIMARY KEY (id)
UNIQUE KEY uk_assessment_code (tenant_id, assessment_code)
KEY idx_plan_employee (plan_id, employee_id)
KEY idx_assessor_id (assessor_id)
KEY idx_grade (grade)
KEY idx_approval_status (approval_status)
KEY idx_deleted (deleted)
KEY idx_tenant_id (tenant_id)
```

**枚举值说明：**
- assessment_type: SELF(自评), SUPERVISOR(上级评估), PEER(同事评估), SUBORDINATE(下属评估)
- grade: S(优秀), A(良好), B(合格), C(待改进), D(不合格)
- approval_status: PENDING(待审批), APPROVED(已批准), REJECTED(已拒绝)

---

## 三、数据字典

### 3.1 员工状态字典

| 字典类型 | 字典编码 | 字典名称 | 说明 |
|---------|---------|---------|------|
| hr_employee_status | ACTIVE | 在职 | 员工在职状态 |
| hr_employee_status | INACTIVE | 停薪留职 | 员工停薪留职状态 |
| hr_employee_status | TERMINATED | 离职 | 员工离职状态 |
| hr_employee_status | LEAVE | 休假 | 员工休假状态 |

### 3.2 请假类型字典

| 字典类型 | 字典编码 | 字典名称 | 说明 |
|---------|---------|---------|------|
| hr_leave_type | ANNUAL | 年假 | 带薪年假 |
| hr_leave_type | SICK | 病假 | 病假 |
| hr_leave_type | PERSONAL | 事假 | 事假 |
| hr_leave_type | MATERNITY | 产假 | 产假 |
| hr_leave_type | PATERNITY | 陪产假 | 陪产假 |
| hr_leave_type | FUNERAL | 丧假 | 丧假 |

### 3.3 加班类型字典

| 字典类型 | 字典编码 | 字典名称 | 说明 |
|---------|---------|---------|------|
| hr_overtime_type | WEEKDAY | 工作日加班 | 工作日加班（1.5倍） |
| hr_overtime_type | WEEKEND | 周末加班 | 周末加班（2倍） |
| hr_overtime_type | HOLIDAY | 法定节假日加班 | 法定节假日加班（3倍） |

### 3.4 绩效等级字典

| 字典类型 | 字典编码 | 字典名称 | 说明 |
|---------|---------|---------|------|
| hr_performance_grade | S | 优秀 | 90分以上 |
| hr_performance_grade | A | 良好 | 80-89分 |
| hr_performance_grade | B | 合格 | 70-79分 |
| hr_performance_grade | C | 待改进 | 60-69分 |
| hr_performance_grade | D | 不合格 | 60分以下 |

---

## 四、ER图

```
┌─────────────┐
│  User       │
└──────┬──────┘
       │ 1:N
       ↓
┌─────────────┐       ┌──────────────┐
│HrEmployee   │───────│HrAttendance  │
│             │ 1:N   │              │
└──────┬──────┘       └──────────────┘
       │
       ├────── 1:N ──────┐
       │                 │
       ↓                 ↓
┌─────────────┐   ┌──────────────┐
│HrSalary     │   │HrPerformance │
│             │   │  _Plan       │
└─────────────┘   └──────┬───────┘
                         │ 1:N
                         ↓
                   ┌──────────────┐
                   │HrPerformance │
                   │  _Assessment │
                   └──────────────┘
```

---

## 五、附录

### 5.1 相关文档

- 01-业务设计.md
- 02-应用设计.md
- 04-API接口文档.md
- 05-技术设计.md
- 05-数据库脚本.sql

---

*文档维护：请保持此文档的及时更新，确保数据设计的准确性*
