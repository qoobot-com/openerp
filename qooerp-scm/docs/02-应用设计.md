# QooERP 供应链管理 - 应用设计文档

> 版本：v1.0
> 创建日期：2026-02-17

---

## 一、核心实体设计

### 1.1 ScmSupplier（供应商实体）

```java
package com.qoobot.qooerp.scm.supplier.domain;

import com.qoobot.qooerp.common.core.entity.BaseEntity;
import lombok.Data;
import lombok.EqualsAndHashCode;
import java.math.BigDecimal;
import java.time.LocalDate;

/**
 * 供应商实体
 */
@Data
@EqualsAndHashCode(callSuper = true)
public class ScmSupplier extends BaseEntity {
    
    /** 供应商编码 */
    private String supplierCode;
    
    /** 供应商名称 */
    private String supplierName;
    
    /** 供应商类型 */
    private String supplierType; // MANUFACTURER, DISTRIBUTOR, RETAILER
    
    /** 行业 */
    private String industry;
    
    /** 规模 */
    private String scale; // LARGE, MEDIUM, SMALL
    
    /** 联系人 */
    private String contactPerson;
    
    /** 联系电话 */
    private String contactPhone;
    
    /** 联系邮箱 */
    private String contactEmail;
    
    /** 地址 */
    private String address;
    
    /** 税号 */
    private String taxNumber;
    
    /** 开户银行 */
    private String bankName;
    
    /** 银行账号 */
    private String bankAccount;
    
    /** 信用等级 */
    private String creditLevel; // A, B, C, D
    
    /** 信用额度 */
    private BigDecimal creditLimit;
    
    /** 结算方式 */
    private String paymentMethod; // CASH, CREDIT, MONTHLY, QUARTERLY
    
    /** 付款期限（天） */
    private Integer paymentDays;
    
    /** 状态 */
    private String status; // ACTIVE, INACTIVE, DISABLED
    
    /** 备注 */
    private String remark;
}
```

### 1.2 ScmCustomer（客户实体）

```java
package com.qoobot.qooerp.scm.customer.domain;

import com.qoobot.qooerp.common.core.entity.BaseEntity;
import lombok.Data;
import lombok.EqualsAndHashCode;
import java.math.BigDecimal;
import java.time.LocalDate;

/**
 * 客户实体
 */
@Data
@EqualsAndHashCode(callSuper = true)
public class ScmCustomer extends BaseEntity {
    
    /** 客户编码 */
    private String customerCode;
    
    /** 客户名称 */
    private String customerName;
    
    /** 客户类型 */
    private String customerType; // ENTERPRISE, INDIVIDUAL, GOVERNMENT
    
    /** 行业 */
    private String industry;
    
    /** 规模 */
    private String scale;
    
    /** 客户等级 */
    private String customerLevel; // VIP, IMPORTANT, NORMAL, POTENTIAL
    
    /** 联系人 */
    private String contactPerson;
    
    /** 联系电话 */
    private String contactPhone;
    
    /** 联系邮箱 */
    private String contactEmail;
    
    /** 地址 */
    private String address;
    
    /** 税号 */
    private String taxNumber;
    
    /** 开户银行 */
    private String bankName;
    
    /** 银行账号 */
    private String bankAccount;
    
    /** 信用额度 */
    private BigDecimal creditLimit;
    
    /** 结算方式 */
    private String paymentMethod;
    
    /** 付款期限（天） */
    private Integer paymentDays;
    
    /** 状态 */
    private String status;
    
    /** 备注 */
    private String remark;
}
```

### 1.3 ScmLogistics（物流实体）

```java
package com.qoobot.qooerp.scm.logistics.domain;

import com.qoobot.qooerp.common.core.entity.BaseEntity;
import lombok.Data;
import lombok.EqualsAndHashCode;
import java.math.BigDecimal;
import java.time.LocalDate;

/**
 * 物流实体
 */
@Data
@EqualsAndHashCode(callSuper = true)
public class ScmLogistics extends BaseEntity {
    
    /** 物流单号 */
    private String logisticsCode;
    
    /** 业务类型 */
    private String businessType; // PURCHASE, SALES
    
    /** 关联单据ID */
    private Long relatedOrderId;
    
    /** 关联单据号 */
    private String relatedOrderCode;
    
    /** 物流公司 */
    private String logisticsCompany;
    
    /** 物流单号 */
    private String trackingNumber;
    
    /** 发货人 */
    private String sender;
    
    /** 发货人电话 */
    private String senderPhone;
    
    /** 发货地址 */
    private String senderAddress;
    
    /** 收货人 */
    private String receiver;
    
    /** 收货人电话 */
    private String receiverPhone;
    
    /** 收货地址 */
    private String receiverAddress;
    
    /** 发货日期 */
    private LocalDate shipmentDate;
    
    /** 预计到达日期 */
    private LocalDate estimatedArrivalDate;
    
    /** 实际到达日期 */
    private LocalDate actualArrivalDate;
    
    /** 物流费用 */
    private BigDecimal logisticsCost;
    
    /** 物流状态 */
    private String logisticsStatus; // PENDING, SHIPPED, IN_TRANSIT, DELIVERED, CANCELLED
    
    /** 备注 */
    private String remark;
}
```

---

## 二、核心服务接口

### 2.1 供应商服务

```java
public interface ScmSupplierService {
    Result<Long> createSupplier(SupplierDTO supplierDTO);
    Result<Void> updateSupplier(Long id, SupplierDTO supplierDTO);
    Result<Void> deleteSupplier(Long id);
    Result<SupplierDTO> getSupplier(Long id);
    Result<PageResult<SupplierDTO>> querySuppliers(SupplierQueryDTO queryDTO);
    Result<Void> evaluateSupplier(Long supplierId, EvaluationDTO evaluationDTO);
}
```

### 2.2 客户服务

```java
public interface ScmCustomerService {
    Result<Long> createCustomer(CustomerDTO customerDTO);
    Result<Void> updateCustomer(Long id, CustomerDTO customerDTO);
    Result<Void> deleteCustomer(Long id);
    Result<CustomerDTO> getCustomer(Long id);
    Result<PageResult<CustomerDTO>> queryCustomers(CustomerQueryDTO queryDTO);
    Result<Void> updateCustomerLevel(Long customerId, String level);
}
```

### 2.3 物流服务

```java
public interface ScmLogisticsService {
    Result<Long> createLogistics(LogisticsDTO logisticsDTO);
    Result<Void> updateLogistics(Long id, LogisticsDTO logisticsDTO);
    Result<Void> trackLogistics(Long logisticsId, String status, String location);
    Result<List<TrackingDTO>> queryTracking(Long logisticsId);
    Result<PageResult<LogisticsDTO>> queryLogistics(LogisticsQueryDTO queryDTO);
}
```

---

## 三、包结构

```
com.qoobot.qooerp.scm
├── supplier          # 供应商管理
├── customer          # 客户管理
└── logistics         # 物流管理
```

---

*文档维护：请保持此文档的及时更新*
