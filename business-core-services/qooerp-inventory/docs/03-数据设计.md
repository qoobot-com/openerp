# QooERP 库存管理 - 数据设计文档

> 版本：v1.1
> 创建日期：2026-02-17
> 数据库：qooerp_inventory

---

## 一、核心表设计

### 1.1 inventory_warehouse（仓库表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| warehouse_code | VARCHAR | 仓库编码 |
| warehouse_name | VARCHAR | 仓库名称 |
| warehouse_type | VARCHAR | 仓库类型 |
| warehouse_address | VARCHAR | 仓库地址 |
| manager_id | BIGINT | 负责人ID |
| manager_name | VARCHAR | 负责人姓名 |
| contact_phone | VARCHAR | 联系电话 |
| status | VARCHAR | 状态 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.2 inventory_material_category（物料分类表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| category_code | VARCHAR | 分类编码 |
| category_name | VARCHAR | 分类名称 |
| parent_id | BIGINT | 父分类ID |
| category_path | VARCHAR | 分类路径 |
| sort | INT | 排序 |
| status | VARCHAR | 状态 |
| deleted | TINYINT | 删除标记 |

### 1.3 inventory_material（物料表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| material_code | VARCHAR | 物料编码 |
| material_name | VARCHAR | 物料名称 |
| category_id | BIGINT | 分类ID |
| specification | VARCHAR | 规格型号 |
| unit | VARCHAR | 计量单位 |
| material_type | VARCHAR | 物料类型 |
| cost_attribute | VARCHAR | 成本属性 |
| standard_cost | DECIMAL | 标准成本 |
| safety_stock | DECIMAL | 安全库存 |
| min_stock | DECIMAL | 最小库存 |
| max_stock | DECIMAL | 最大库存 |
| lead_time | INT | 提前期 |
| status | VARCHAR | 状态 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.4 inventory_stock（库存表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| warehouse_id | BIGINT | 仓库ID |
| material_id | BIGINT | 物料ID |
| current_stock | DECIMAL | 当前库存 |
| available_stock | DECIMAL | 可用库存 |
| locked_stock | DECIMAL | 锁定库存 |
| in_transit_stock | DECIMAL | 在途库存 |
| standard_cost | DECIMAL | 标准成本 |
| stock_amount | DECIMAL | 库存金额 |
| last_inbound_date | DATE | 最后入库日期 |
| last_outbound_date | DATE | 最后出库日期 |
| deleted | TINYINT | 删除标记 |

### 1.5 inventory_stock_inbound（入库单表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| inbound_code | VARCHAR | 入库单号 |
| inbound_type | VARCHAR | 入库类型 |
| inbound_date | DATE | 入库日期 |
| warehouse_id | BIGINT | 仓库ID |
| supplier_id | BIGINT | 供应商ID |
| inbound_status | VARCHAR | 入库状态 |
| total_quantity | DECIMAL | 总数量 |
| total_amount | DECIMAL | 总金额 |
| approver_id | BIGINT | 审核人ID |
| approve_time | DATETIME | 审核时间 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.6 inventory_stock_inbound_detail（入库明细表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| inbound_id | BIGINT | 入库单ID |
| material_id | BIGINT | 物料ID |
| quantity | DECIMAL | 数量 |
| unit_price | DECIMAL | 单价 |
| amount | DECIMAL | 金额 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.7 inventory_stock_outbound（出库单表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| outbound_code | VARCHAR | 出库单号 |
| outbound_type | VARCHAR | 出库类型 |
| outbound_date | DATE | 出库日期 |
| warehouse_id | BIGINT | 仓库ID |
| customer_id | BIGINT | 客户ID |
| outbound_status | VARCHAR | 出库状态 |
| total_quantity | DECIMAL | 总数量 |
| total_amount | DECIMAL | 总金额 |
| approver_id | BIGINT | 审核人ID |
| approve_time | DATETIME | 审核时间 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.8 inventory_stock_outbound_detail（出库明细表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| outbound_id | BIGINT | 出库单ID |
| material_id | BIGINT | 物料ID |
| quantity | DECIMAL | 数量 |
| unit_price | DECIMAL | 单价 |
| amount | DECIMAL | 金额 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.9 inventory_transfer（调拨单表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| transfer_code | VARCHAR | 调拨单号 |
| transfer_date | DATE | 调拨日期 |
| from_warehouse_id | BIGINT | 调出仓库ID |
| to_warehouse_id | BIGINT | 调入仓库ID |
| transfer_status | VARCHAR | 调拨状态 |
| total_quantity | DECIMAL | 总数量 |
| approver_id | BIGINT | 审核人ID |
| approve_time | DATETIME | 审核时间 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.10 inventory_transfer_detail（调拨明细表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| transfer_id | BIGINT | 调拨单ID |
| material_id | BIGINT | 物料ID |
| quantity | DECIMAL | 数量 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.11 inventory_check（盘点单表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| check_code | VARCHAR | 盘点单号 |
| warehouse_id | BIGINT | 仓库ID |
| check_date | DATE | 盘点日期 |
| check_status | VARCHAR | 盘点状态 |
| checker_id | BIGINT | 盘点人ID |
| check_time | DATETIME | 盘点时间 |
| total_diff_quantity | DECIMAL | 差异数量 |
| total_diff_amount | DECIMAL | 差异金额 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.12 inventory_check_detail（盘点明细表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| check_id | BIGINT | 盘点单ID |
| material_id | BIGINT | 物料ID |
| current_stock | DECIMAL | 账面库存 |
| actual_stock | DECIMAL | 实际库存 |
| diff_quantity | DECIMAL | 差异数量 |
| diff_amount | DECIMAL | 差异金额 |
| remark | VARCHAR | 备注 |
| deleted | TINYINT | 删除标记 |

### 1.13 inventory_stock_record（库存变动记录表）

| 字段名 | 类型 | 说明 |
|--------|------|------|
| id | BIGINT | 主键 |
| tenant_id | BIGINT | 租户ID |
| warehouse_id | BIGINT | 仓库ID |
| material_id | BIGINT | 物料ID |
| record_type | VARCHAR | 记录类型 |
| business_type | VARCHAR | 业务类型 |
| business_no | VARCHAR | 业务单号 |
| change_quantity | DECIMAL | 变动数量 |
| before_stock | DECIMAL | 变动前库存 |
| after_stock | DECIMAL | 变动后库存 |
| unit_price | DECIMAL | 单价 |
| change_amount | DECIMAL | 变动金额 |
| operator_id | BIGINT | 操作人ID |
| operator_name | VARCHAR | 操作人姓名 |
| operation_time | DATETIME | 操作时间 |
| remark | VARCHAR | 备注 |

---

**文档版本**: v1.1
