# QooERP 人力资源管理 - 业务设计文档

> 版本：v1.0
> 创建日期：20xx-xx-xx
> 服务名称：qooerp-hr
> 优先级：P1-A（核心业务）

---

## 一、概述

### 1.1 服务定位

人力资源管理（HRM）是 QooERP 的核心业务模块之一，负责员工全生命周期管理、考勤管理、薪资管理、绩效管理等人力资源核心业务。

### 1.2 业务价值

- 提升人力资源管理效率，降低人力成本
- 实现员工全生命周期数字化管理
- 规范考勤、薪资、绩效等业务流程
- 为管理层提供人力资源决策支持

### 1.3 核心能力

| 能力模块 | 功能描述 |
|---------|---------|
| 员工管理 | 员工档案、入职离职、转岗调薪 |
| 考勤管理 | 打卡、请假、加班、出差 |
| 薪资管理 | 薪资计算、薪资发放、个税申报 |
| 绩效管理 | 绩效考核、绩效评估、绩效改进 |

---

## 二、业务领域模型

### 2.1 核心实体

```
HrEmployee（员工）
├── 员工基本信息
├── 员工组织信息
├── 员工岗位信息
├── 员工状态
└── 员工扩展信息

HrAttendance（考勤记录）
├── 打卡记录
├── 请假记录
├── 加班记录
└── 出差记录

HrSalary（薪资）
├── 薪资基础信息
├── 薪资计算规则
├── 薪资发放记录
└── 个税记录

HrPerformance（绩效）
├── 绩效考核计划
├── 绩效评估记录
└── 绩效改进计划
```

### 2.2 实体关系图

```
User（用户）
  └─ 1:N ── HrEmployee（员工）
        │
        ├─ 1:N ── HrAttendance（考勤记录）
        ├─ 1:N ── HrSalary（薪资）
        └─ 1:N ── HrPerformance（绩效）

Organization（组织）
  └─ 1:N ── HrEmployee（员工）

Position（岗位）
  └─ 1:N ── HrEmployee（员工）
```

---

## 三、业务流程设计

### 3.1 员工入职流程

```
[发起] HR → 创建员工档案
  ↓
[审批] 部门经理 → 审批入职申请
  ↓
[确认] HR → 确认岗位薪资信息
  ↓
[激活] 系统 → 激活员工账号
  ↓
[完成] HR → 完成入职手续
```

### 3.2 考勤流程

```
[打卡] 员工 → 上班/下班打卡
  ↓
[计算] 系统 → 自动计算考勤时长
  ↓
[申请] 员工 → 请假/加班/出差申请
  ↓
[审批] 上级 → 审批申请
  ↓
[汇总] 系统 → 汇总月度考勤记录
  ↓
[核算] 薪资模块 → 计算考勤工资
```

### 3.3 薪资计算流程

```
[计算] 系统 → 计算基本工资
  ↓
[加项] 系统 → 加上加班费、奖金、补贴
  ↓
[减项] 系统 → 减去请假扣款、社保、个税
  ↓
[核算] 系统 → 核算实发工资
  ↓
[确认] HR → 确认薪资数据
  ↓
[发放] 系统 → 生成发放记录
  ↓
[申报] 系统 → 申报个税
```

### 3.4 绩效考核流程

```
[制定] 部门 → 制定绩效考核计划
  ↓
[自评] 员工 → 自我评估
  ↓
[评估] 上级 → 评估打分
  ↓
[审核] HR → 审核绩效结果
  ↓
[应用] 系统 → 应用绩效结果（薪资、晋升）
  ↓
[改进] 员工 → 制定改进计划
```

---

## 四、功能模块设计

### 4.1 员工管理模块

#### 4.1.1 员工档案管理

| 功能点 | 说明 |
|-------|------|
| 员工创建 | 创建新员工档案，关联用户账号 |
| 员工查询 | 按条件查询员工信息 |
| 员工编辑 | 编辑员工基本信息 |
| 员工删除 | 软删除员工档案 |
| 员工导入 | 批量导入员工信息 |
| 员工导出 | 导出员工信息 |

#### 4.1.2 员工生命周期管理

| 功能点 | 说明 |
|-------|------|
| 入职管理 | 入职申请、审批、确认 |
| 转岗管理 | 岗位调整申请、审批 |
| 调薪管理 | 薪资调整申请、审批 |
| 离职管理 | 离职申请、审批、交接 |
| 复职管理 | 离职员工复职申请、审批 |

#### 4.1.3 员工扩展信息

| 功能点 | 说明 |
|-------|------|
| 教育经历 | 学历、学位、毕业院校 |
| 工作经历 | 历史工作经历 |
| 家庭成员 | 家庭成员信息 |
| 培训记录 | 培训历史 |
| 证书资质 | 专业证书、资质证明 |

### 4.2 考勤管理模块

#### 4.2.1 打卡管理

| 功能点 | 说明 |
|-------|------|
| 上班打卡 | 记录上班时间 |
| 下班打卡 | 记录下班时间 |
| 外出打卡 | 外出办公打卡 |
| 打卡记录 | 查询打卡记录 |
| 打卡统计 | 统计打卡情况 |

#### 4.2.2 请假管理

| 功能点 | 说明 |
|-------|------|
| 请假申请 | 请假申请提交 |
| 请假审批 | 请假申请审批 |
| 请假查询 | 查询请假记录 |
| 请假统计 | 统计请假情况 |
| 假期余额 | 查询假期余额 |

#### 4.2.3 加班管理

| 功能点 | 说明 |
|-------|------|
| 加班申请 | 加班申请提交 |
| 加班审批 | 加班申请审批 |
| 加班查询 | 查询加班记录 |
| 加班统计 | 统计加班情况 |
| 加班费计算 | 计算加班费 |

#### 4.2.4 出差管理

| 功能点 | 说明 |
|-------|------|
| 出差申请 | 出差申请提交 |
| 出差审批 | 出差申请审批 |
| 出差查询 | 查询出差记录 |
| 出差统计 | 统计出差情况 |
| 出差报销 | 出差费用报销 |

### 4.3 薪资管理模块

#### 4.3.1 薪资基础管理

| 功能点 | 说明 |
|-------|------|
| 薪资结构 | 薪资组成结构设置 |
| 薪资项目 | 薪资项目定义 |
| 计算规则 | 薪资计算规则配置 |
| 税率配置 | 个税税率配置 |
| 社保配置 | 社保公积金配置 |

#### 4.3.2 薪资计算

| 功能点 | 说明 |
|-------|------|
| 月度薪资 | 计算月度薪资 |
| 薪资预览 | 薪资计算预览 |
| 薪资确认 | 薪资数据确认 |
| 薪资调整 | 薪资数据调整 |
| 薪资重算 | 薪资重新计算 |

#### 4.3.3 薪资发放

| 功能点 | 说明 |
|-------|------|
| 发放确认 | 确认发放薪资 |
| 发放记录 | 薪资发放记录 |
| 发放明细 | 薪资发放明细 |
| 发放统计 | 薪资发放统计 |
| 发放通知 | 发放通知员工 |

#### 4.3.4 个税申报

| 功能点 | 说明 |
|-------|------|
| 个税计算 | 计算个税 |
| 个税申报 | 申报个税 |
| 申报记录 | 申报记录查询 |
| 申报状态 | 申报状态跟踪 |

### 4.4 绩效管理模块

#### 4.4.1 绩效考核计划

| 功能点 | 说明 |
|-------|------|
| 计划创建 | 创建考核计划 |
| 计划审批 | 考核计划审批 |
| 计划查询 | 查询考核计划 |
| 计划发布 | 发布考核计划 |

#### 4.4.2 绩效评估

| 功能点 | 说明 |
|-------|------|
| 自我评估 | 员工自我评估 |
| 上级评估 | 上级评估打分 |
| 多维度评估 | 360度评估 |
| 评估汇总 | 评估结果汇总 |

#### 4.4.3 绩效结果

| 功能点 | 说明 |
|-------|------|
| 结果审核 | 绩效结果审核 |
| 结果应用 | 应用绩效结果 |
| 绩效排名 | 员工绩效排名 |
| 绩效统计 | 绩效统计报表 |

#### 4.4.4 绩效改进

| 功能点 | 说明 |
|-------|------|
| 改进计划 | 制定改进计划 |
| 改进跟踪 | 改进进度跟踪 |
| 改进评估 | 改进效果评估 |

---

## 五、业务规则设计

### 5.1 员工管理规则

| 规则名称 | 规则说明 |
|---------|---------|
| 员工编号 | 自动生成，格式：EMP + 年份 + 6位序号 |
| 员工唯一性 | 同一身份证号只能创建一个员工 |
| 员工状态 | 在职、离职、休假、停薪留职 |
| 员工离职 | 离职员工不能删除，只能标记离职状态 |
| 员工复职 | 离职超过6个月不能复职 |

### 5.2 考勤管理规则

| 规则名称 | 规则说明 |
|---------|---------|
| 打卡时间 | 上班打卡：9:00前，下班打卡：18:00后 |
| 迟到判定 | 上班打卡晚于9:00判定迟到 |
| 早退判定 | 下班打卡早于18:00判定早退 |
| 请假类型 | 事假、病假、年假、婚假、产假、丧假 |
| 加班计算 | 工作日加班1.5倍，周末2倍，法定节假日3倍 |

### 5.3 薪资管理规则

| 规则名称 | 规则说明 |
|---------|---------|
| 薪资计算月 | 每月25日结算上月薪资 |
| 个税起征点 | 5000元 |
| 社保缴纳 | 按当地社保规定缴纳 |
| 薪资保密 | 薪资信息仅HR和本人可见 |

### 5.4 绩效管理规则

| 规则名称 | 规则说明 |
|---------|---------|
| 考核周期 | 季度考核、年度考核 |
| 考核等级 | S、A、B、C、D |
| 考核权重 | 自评20% + 上评60% + 其他20% |
| 绩效应用 | 薪资调整、晋升、培训 |

---

## 六、集成接口设计

### 6.1 外部服务集成

| 集成服务 | 接口说明 |
|---------|---------|
| qooerp-user | 关联用户账号 |
| qooerp-organization | 关联组织、岗位 |
| qooerp-permission | 权限控制 |
| qooerp-notify | 考勤、薪资、绩效通知 |

### 6.2 事件发布

| 事件名称 | 事件说明 |
|---------|---------|
| hr.employee.created | 员工创建事件 |
| hr.employee.updated | 员工更新事件 |
| hr.employee.terminated | 员工离职事件 |
| hr.attendance.checked | 打卡事件 |
| hr.salary.calculated | 薪资计算完成事件 |
| hr.performance.completed | 绩效完成事件 |

---

## 七、数据统计与报表

### 7.1 统计报表

| 报表名称 | 说明 |
|---------|------|
| 员工统计 | 员工数量、分布、结构统计 |
| 考勤统计 | 出勤率、迟到早退、请假统计 |
| 薪资统计 | 薪资总额、平均薪资、成本分析 |
| 绩效统计 | 绩效分布、绩效趋势 |

### 7.2 分析维度

| 维度 | 说明 |
|------|------|
| 时间维度 | 年度、季度、月度 |
| 组织维度 | 公司、部门 |
| 员工维度 | 员工类型、岗位级别 |

---

## 八、附录

### 8.1 术语表

| 术语 | 说明 |
|------|------|
| HRM | Human Resource Management，人力资源管理 |
| 员工 | 企业在职人员 |
| 考勤 | 员工出勤情况记录 |
| 薪资 | 员工工资福利 |
| 绩效 | 员工工作表现评估 |

### 8.2 相关文档

- 02-应用设计.md
- 03-数据设计.md
- 04-API接口文档.md
- 05-技术设计.md
- 05-数据库脚本.sql

---

*文档维护：请保持此文档的及时更新，确保业务设计的准确性*
