# QooERP 销售管理 - 业务设计文档

> 版本：v1.0
> 创建日期：2026-02-17
> 服务名称：qooerp-sales
> 优先级：P1-B（核心业务）
> 端口：8089

---

## 一、概述

销售管理是 QooERP 的核心业务模块之一，负责销售报价、销售合同、销售订单、销售发货、销售退货、销售收款、销售报表等销售核心业务。

---

## 二、核心实体

```
SalesQuotation（销售报价）
SalesQuotationDetail（报价明细）
SalesContract（销售合同）
SalesContractDetail（合同明细）
SalesOrder（销售订单）
SalesOrderDetail（订单明细）
SalesDelivery（发货单）
SalesDeliveryDetail（发货明细）
SalesReturn（退货单）
SalesReturnDetail（退货明细）
SalesReceipt（收款单）
SalesReceiptDetail（收款明细）
CustomerCredit（客户信用）
```

---

## 三、功能模块

| 模块 | 功能 |
|------|------|
| 销售报价 | 报价单创建、报价审核、报价转订单 |
| 销售合同 | 合同签订、合同审核、合同变更 |
| 销售订单 | 订单创建、审核、发货、收款 |
| 销售发货 | 发货单、物流跟踪、签收确认 |
| 销售退货 | 退货申请、退货处理、退款处理 |
| 销售收款 | 收款单、收款核销、应收账款 |
| 客户信用 | 信用额度设置、信用检查、预警 |
| 销售报表 | 销售统计、销售分析、业绩分析 |

---

## 四、核心业务流程

### 4.1 销售报价流程
1. 创建报价单 → 2. 审核报价 → 3. 发送给客户 → 4. 报价转订单

### 4.2 销售订单流程
1. 创建订单 → 2. 订单审核 → 3. 生成发货单 → 4. 仓库出库 → 5. 物流发货 → 6. 客户签收 → 7. 确认收款

### 4.3 销售退货流程
1. 客户提出退货 → 2. 创建退货单 → 3. 退货审核 → 4. 仓库收货 → 5. 退款处理

### 4.4 销售收款流程
1. 创建收款单 → 2. 核销应收账款 → 3. 更新订单状态 → 4. 生成收款凭证

---

## 五、核心表清单

| 表名 | 说明 |
|------|------|
| sales_quotation | 销售报价表 |
| sales_quotation_detail | 报价明细表 |
| sales_contract | 销售合同表 |
| sales_contract_detail | 合同明细表 |
| sales_order | 销售订单表 |
| sales_order_detail | 订单明细表 |
| sales_delivery | 发货单表 |
| sales_delivery_detail | 发货明细表 |
| sales_return | 退货单表 |
| sales_return_detail | 退货明细表 |
| sales_receipt | 收款单表 |
| sales_receipt_detail | 收款明细表 |
| customer_credit | 客户信用表 |

---

*文档维护：请保持此文档的及时更新*
