# QooERP 供应链管理 - 数据设计文档

> 版本：v2.0
> 创建日期：2026-02-17
> 更新日期：2026-02-18
> 数据库：qooerp_scm

---

## 一、核心表设计

### 1.1 scm_supplier（供应商表）

```sql
CREATE TABLE scm_supplier (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    supplier_code VARCHAR(32) NOT NULL COMMENT '供应商编码',
    supplier_name VARCHAR(128) NOT NULL COMMENT '供应商名称',
    supplier_type VARCHAR(20) NOT NULL COMMENT '供应商类型：MANUFACTURER-制造商,DISTRIBUTOR-分销商,RETAILER-零售商',
    industry VARCHAR(64) COMMENT '所属行业',
    scale VARCHAR(20) COMMENT '企业规模：LARGE-大型,MEDIUM-中型,SMALL-小型',
    contact_person VARCHAR(64) COMMENT '联系人',
    contact_phone VARCHAR(20) COMMENT '联系电话',
    contact_email VARCHAR(128) COMMENT '联系邮箱',
    address VARCHAR(256) COMMENT '联系地址',
    tax_number VARCHAR(64) COMMENT '税号',
    bank_name VARCHAR(64) COMMENT '开户银行',
    bank_account VARCHAR(64) COMMENT '银行账号',
    credit_level VARCHAR(10) DEFAULT 'C' COMMENT '信用等级：A,B,C,D',
    credit_limit DECIMAL(18,2) DEFAULT 0.00 COMMENT '信用额度',
    payment_method VARCHAR(20) DEFAULT 'MONTHLY' COMMENT '结算方式：CASH-现金,CREDIT-信用,MONTHLY-月结,QUARTERLY-季结',
    payment_days INT DEFAULT 30 COMMENT '付款期限（天）',
    evaluation_score INT COMMENT '评估总分',
    quality_score INT COMMENT '质量评分',
    delivery_score INT COMMENT '交付评分',
    service_score INT COMMENT '服务评分',
    price_score INT COMMENT '价格评分',
    last_evaluation_time DATETIME COMMENT '最后评估时间',
    status VARCHAR(20) DEFAULT 'ACTIVE' COMMENT '状态：ACTIVE-启用,INACTIVE-停用,DISABLED-禁用',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    UNIQUE KEY uk_supplier_code (tenant_id, supplier_code),
    KEY idx_status (status),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商表';
```

### 1.2 scm_supplier_evaluation（供应商评估表）

```sql
CREATE TABLE scm_supplier_evaluation (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    supplier_id BIGINT NOT NULL COMMENT '供应商ID',
    supplier_code VARCHAR(32) NOT NULL COMMENT '供应商编码',
    evaluation_date DATE NOT NULL COMMENT '评估日期',
    quality_score INT COMMENT '质量评分（0-100）',
    delivery_score INT COMMENT '交付评分（0-100）',
    service_score INT COMMENT '服务评分（0-100）',
    price_score INT COMMENT '价格评分（0-100）',
    total_score INT COMMENT '综合评分（0-100）',
    credit_level VARCHAR(10) COMMENT '信用等级：A,B,C,D',
    evaluator VARCHAR(64) COMMENT '评估人',
    evaluation_remark VARCHAR(512) COMMENT '评估意见',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    KEY idx_supplier_id (supplier_id),
    KEY idx_evaluation_date (evaluation_date),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商评估表';
```

### 1.3 scm_customer（客户表）

```sql
CREATE TABLE scm_customer (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    customer_code VARCHAR(32) NOT NULL COMMENT '客户编码',
    customer_name VARCHAR(128) NOT NULL COMMENT '客户名称',
    customer_type VARCHAR(20) NOT NULL COMMENT '客户类型：ENTERPRISE-企业,INDIVIDUAL-个人,GOVERNMENT-政府',
    industry VARCHAR(64) COMMENT '所属行业',
    scale VARCHAR(20) COMMENT '企业规模',
    customer_level VARCHAR(20) DEFAULT 'NORMAL' COMMENT '客户等级：VIP-VIP客户,IMPORTANT-重要客户,NORMAL-普通客户,POTENTIAL-潜在客户',
    contact_person VARCHAR(64) COMMENT '联系人',
    contact_phone VARCHAR(20) COMMENT '联系电话',
    contact_email VARCHAR(128) COMMENT '联系邮箱',
    address VARCHAR(256) COMMENT '联系地址',
    tax_number VARCHAR(64) COMMENT '税号',
    bank_name VARCHAR(64) COMMENT '开户银行',
    bank_account VARCHAR(64) COMMENT '银行账号',
    credit_limit DECIMAL(18,2) DEFAULT 0.00 COMMENT '信用额度',
    payment_method VARCHAR(20) DEFAULT 'MONTHLY' COMMENT '结算方式',
    payment_days INT DEFAULT 30 COMMENT '付款期限（天）',
    status VARCHAR(20) DEFAULT 'ACTIVE' COMMENT '状态：ACTIVE-启用,INACTIVE-停用,DISABLED-禁用',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    UNIQUE KEY uk_customer_code (tenant_id, customer_code),
    KEY idx_status (status),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='客户表';
```

### 1.4 scm_customer_grade（客户分级表）

```sql
CREATE TABLE scm_customer_grade (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    customer_id BIGINT NOT NULL COMMENT '客户ID',
    customer_code VARCHAR(32) NOT NULL COMMENT '客户编码',
    grade_date DATE NOT NULL COMMENT '分级日期',
    annual_purchase_amount DECIMAL(18,2) COMMENT '年采购金额',
    purchase_count INT COMMENT '采购频次',
    average_order_amount DECIMAL(18,2) COMMENT '平均客单价',
    return_rate DECIMAL(5,2) COMMENT '退货率（%）',
    customer_level VARCHAR(20) COMMENT '客户等级',
    change_reason VARCHAR(512) COMMENT '等级变更原因',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    KEY idx_customer_id (customer_id),
    KEY idx_grade_date (grade_date),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='客户分级表';
```

### 1.5 scm_logistics（物流表）

```sql
CREATE TABLE scm_logistics (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    logistics_code VARCHAR(32) NOT NULL COMMENT '物流单号',
    business_type VARCHAR(20) NOT NULL COMMENT '业务类型：PURCHASE-采购,SALES-销售',
    related_order_id BIGINT DEFAULT NULL COMMENT '关联单据ID',
    related_order_code VARCHAR(64) COMMENT '关联单据号',
    logistics_company VARCHAR(128) COMMENT '物流公司',
    tracking_number VARCHAR(64) COMMENT '物流单号（快递单号）',
    sender VARCHAR(64) COMMENT '发货人',
    sender_phone VARCHAR(20) COMMENT '发货人电话',
    sender_address VARCHAR(256) COMMENT '发货地址',
    receiver VARCHAR(64) COMMENT '收货人',
    receiver_phone VARCHAR(20) COMMENT '收货人电话',
    receiver_address VARCHAR(256) COMMENT '收货地址',
    shipment_date DATE COMMENT '发货日期',
    estimated_arrival_date DATE COMMENT '预计到达日期',
    actual_arrival_date DATE COMMENT '实际到达日期',
    logistics_cost DECIMAL(18,2) DEFAULT 0.00 COMMENT '物流费用',
    logistics_status VARCHAR(20) DEFAULT 'PENDING' COMMENT '物流状态：PENDING-待发货,SHIPPED-已发货,IN_TRANSIT-运输中,DELIVERED-已送达,CANCELLED-已取消',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    UNIQUE KEY uk_logistics_code (tenant_id, logistics_code),
    KEY idx_related_order (related_order_id),
    KEY idx_status (logistics_status),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='物流表';
```

### 1.6 scm_logistics_tracking（物流跟踪表）

```sql
CREATE TABLE scm_logistics_tracking (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    logistics_id BIGINT NOT NULL COMMENT '物流ID',
    logistics_code VARCHAR(32) NOT NULL COMMENT '物流单号',
    tracking_time DATETIME NOT NULL COMMENT '跟踪时间',
    location VARCHAR(256) COMMENT '位置',
    status VARCHAR(20) NOT NULL COMMENT '状态',
    description VARCHAR(512) COMMENT '描述',
    operator VARCHAR(64) COMMENT '操作人',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    KEY idx_logistics_id (logistics_id),
    KEY idx_tracking_time (tracking_time),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='物流跟踪表';
```

---

### 1.7 scm_supplier_quotation（供应商报价表）

```sql
CREATE TABLE scm_supplier_quotation (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    quotation_code VARCHAR(32) NOT NULL COMMENT '报价单号',
    supplier_id BIGINT NOT NULL COMMENT '供应商ID',
    supplier_code VARCHAR(32) NOT NULL COMMENT '供应商编码',
    supplier_name VARCHAR(128) NOT NULL COMMENT '供应商名称',
    quotation_date DATE NOT NULL COMMENT '报价日期',
    valid_until DATE COMMENT '报价有效期',
    quotation_type VARCHAR(20) DEFAULT 'NORMAL' COMMENT '报价类型：NORMAL-正常报价,URGENT-紧急报价',
    total_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '报价总金额',
    audit_status VARCHAR(20) DEFAULT 'PENDING' COMMENT '审核状态：PENDING-待审核,APPROVED-已通过,REJECTED-已拒绝',
    auditor VARCHAR(64) COMMENT '审核人',
    audit_time DATETIME COMMENT '审核时间',
    audit_remark VARCHAR(512) COMMENT '审核意见',
    converted TINYINT DEFAULT 0 COMMENT '是否转采购订单：0-未转换,1-已转换',
    purchase_order_id BIGINT COMMENT '采购订单ID',
    purchase_order_code VARCHAR(64) COMMENT '采购订单号',
    convert_time DATETIME COMMENT '转换时间',
    attachment_url VARCHAR(512) COMMENT '附件地址',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    UNIQUE KEY uk_quotation_code (tenant_id, quotation_code),
    KEY idx_supplier_id (supplier_id),
    KEY idx_audit_status (audit_status),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商报价表';
```

### 1.8 scm_supplier_quotation_detail（供应商报价明细表）

```sql
CREATE TABLE scm_supplier_quotation_detail (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    quotation_id BIGINT NOT NULL COMMENT '报价单ID',
    quotation_code VARCHAR(32) NOT NULL COMMENT '报价单号',
    material_code VARCHAR(64) NOT NULL COMMENT '物料编码',
    material_name VARCHAR(128) NOT NULL COMMENT '物料名称',
    specification VARCHAR(128) COMMENT '规格型号',
    unit VARCHAR(32) COMMENT '单位',
    quantity DECIMAL(18,2) NOT NULL COMMENT '数量',
    unit_price DECIMAL(18,2) NOT NULL COMMENT '单价',
    amount DECIMAL(18,2) NOT NULL COMMENT '金额',
    delivery_days INT COMMENT '交货期（天）',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    KEY idx_quotation_id (quotation_id),
    KEY idx_material_code (material_code),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商报价明细表';
```

### 1.9 scm_supplier_statement（供应商对账单表）

```sql
CREATE TABLE scm_supplier_statement (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    statement_code VARCHAR(32) NOT NULL COMMENT '对账单号',
    supplier_id BIGINT NOT NULL COMMENT '供应商ID',
    supplier_code VARCHAR(32) NOT NULL COMMENT '供应商编码',
    supplier_name VARCHAR(128) NOT NULL COMMENT '供应商名称',
    statement_type VARCHAR(20) DEFAULT 'MONTHLY' COMMENT '对账类型：MONTHLY-月度,QUARTERLY-季度,YEARLY-年度',
    start_date DATE NOT NULL COMMENT '对账起始日期',
    end_date DATE NOT NULL COMMENT '对账结束日期',
    statement_date DATE NOT NULL COMMENT '对账日期',
    purchase_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '采购总金额',
    return_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '退货总金额',
    freight_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '运费',
    other_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '其他费用',
    total_amount DECIMAL(18,2) DEFAULT 0.00 COMMENT '应付总额',
    audit_status VARCHAR(20) DEFAULT 'PENDING' COMMENT '审核状态：PENDING-待审核,APPROVED-已通过,REJECTED-已拒绝',
    auditor VARCHAR(64) COMMENT '审核人',
    audit_time DATETIME COMMENT '审核时间',
    audit_remark VARCHAR(512) COMMENT '审核意见',
    settlement_status VARCHAR(20) DEFAULT 'PENDING' COMMENT '结算状态：PENDING-待结算,SETTLED-已结算',
    settlement_date DATE COMMENT '结算日期',
    settlement_method VARCHAR(20) COMMENT '结算方式',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    UNIQUE KEY uk_statement_code (tenant_id, statement_code),
    KEY idx_supplier_id (supplier_id),
    KEY idx_statement_period (start_date, end_date),
    KEY idx_audit_status (audit_status),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商对账单表';
```

### 1.10 scm_supplier_statement_detail（供应商对账明细表）

```sql
CREATE TABLE scm_supplier_statement_detail (
    id BIGINT NOT NULL AUTO_INCREMENT,
    tenant_id BIGINT NOT NULL DEFAULT 0 COMMENT '租户ID',
    statement_id BIGINT NOT NULL COMMENT '对账单ID',
    statement_code VARCHAR(32) NOT NULL COMMENT '对账单号',
    order_type VARCHAR(20) NOT NULL COMMENT '单据类型：PURCHASE_ORDER-采购订单,RECEIPT-入库单,RETURN-退货单',
    order_id BIGINT NOT NULL COMMENT '单据ID',
    order_code VARCHAR(64) NOT NULL COMMENT '单据号',
    material_code VARCHAR(64) NOT NULL COMMENT '物料编码',
    material_name VARCHAR(128) NOT NULL COMMENT '物料名称',
    quantity DECIMAL(18,2) NOT NULL COMMENT '数量',
    unit_price DECIMAL(18,2) NOT NULL COMMENT '单价',
    amount DECIMAL(18,2) NOT NULL COMMENT '金额',
    order_date DATE NOT NULL COMMENT '单据日期',
    remark VARCHAR(512) COMMENT '备注',
    created_by BIGINT DEFAULT NULL COMMENT '创建人',
    create_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
    updated_by BIGINT DEFAULT NULL COMMENT '更新人',
    update_time DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
    deleted TINYINT NOT NULL DEFAULT 0 COMMENT '删除标记：0-未删除,1-已删除',
    version INT NOT NULL DEFAULT 0 COMMENT '版本号',
    PRIMARY KEY (id),
    KEY idx_statement_id (statement_id),
    KEY idx_order_id (order_id),
    KEY idx_material_code (material_code),
    KEY idx_deleted (deleted),
    KEY idx_tenant_id (tenant_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci COMMENT='供应商对账明细表';
```

---

## 二、索引设计

### 2.1 索引汇总

| 表名 | 索引名 | 索引字段 | 索引类型 | 说明 |
|------|--------|---------|---------|------|
| scm_supplier | uk_supplier_code | supplier_code | UNIQUE | 供应商编码唯一索引 |
| scm_supplier | idx_status | status | INDEX | 状态索引 |
| scm_supplier_evaluation | idx_supplier_id | supplier_id | INDEX | 供应商ID索引 |
| scm_supplier_evaluation | idx_evaluation_date | evaluation_date | INDEX | 评估日期索引 |
| scm_customer | uk_customer_code | customer_code | UNIQUE | 客户编码唯一索引 |
| scm_customer | idx_status | status | INDEX | 状态索引 |
| scm_customer_grade | idx_customer_id | customer_id | INDEX | 客户ID索引 |
| scm_customer_grade | idx_grade_date | grade_date | INDEX | 分级日期索引 |
| scm_logistics | uk_logistics_code | logistics_code | UNIQUE | 物流单号唯一索引 |
| scm_logistics | idx_related_order | related_order_id | INDEX | 关联单据索引 |
| scm_logistics | idx_status | logistics_status | INDEX | 物流状态索引 |
| scm_logistics_tracking | idx_logistics_id | logistics_id | INDEX | 物流ID索引 |
| scm_logistics_tracking | idx_tracking_time | tracking_time | INDEX | 跟踪时间索引 |
| scm_supplier_quotation | uk_quotation_code | quotation_code | UNIQUE | 报价单号唯一索引 |
| scm_supplier_quotation | idx_supplier_id | supplier_id | INDEX | 供应商ID索引 |
| scm_supplier_quotation | idx_audit_status | audit_status | INDEX | 审核状态索引 |
| scm_supplier_quotation_detail | idx_quotation_id | quotation_id | INDEX | 报价单ID索引 |
| scm_supplier_quotation_detail | idx_material_code | material_code | INDEX | 物料编码索引 |
| scm_supplier_statement | uk_statement_code | statement_code | UNIQUE | 对账单号唯一索引 |
| scm_supplier_statement | idx_supplier_id | supplier_id | INDEX | 供应商ID索引 |
| scm_supplier_statement | idx_statement_period | start_date, end_date | INDEX | 对账周期索引 |
| scm_supplier_statement | idx_audit_status | audit_status | INDEX | 审核状态索引 |
| scm_supplier_statement_detail | idx_statement_id | statement_id | INDEX | 对账单ID索引 |
| scm_supplier_statement_detail | idx_order_id | order_id | INDEX | 单据ID索引 |
| scm_supplier_statement_detail | idx_material_code | material_code | INDEX | 物料编码索引 |

---

## 三、数据字典

### 3.1 供应商类型（supplier_type）

| 编码 | 名称 | 说明 |
|------|------|------|
| MANUFACTURER | 制造商 | 生产型企业 |
| DISTRIBUTOR | 分销商 | 批发分销企业 |
| RETAILER | 零售商 | 零售企业 |

### 3.2 企业规模（scale）

| 编码 | 名称 | 说明 |
|------|------|------|
| LARGE | 大型 | 员工数 > 1000 或年营收 > 4亿 |
| MEDIUM | 中型 | 100 <= 员工数 <= 1000 或 2000万 <= 年营收 <= 4亿 |
| SMALL | 小型 | 员工数 < 100 或年营收 < 2000万 |

### 3.3 信用等级（credit_level）

| 编码 | 名称 | 评分范围 | 信用额度范围 |
|------|------|---------|-------------|
| A | 优秀 | 90-100 | 500万-1000万 |
| B | 良好 | 80-89 | 200万-500万 |
| C | 一般 | 70-79 | 50万-200万 |
| D | 较差 | < 70 | 0-50万 |

### 3.4 结算方式（payment_method）

| 编码 | 名称 | 说明 |
|------|------|------|
| CASH | 现金 | 即时付款 |
| CREDIT | 信用 | 账期付款 |
| MONTHLY | 月结 | 每月结算一次 |
| QUARTERLY | 季结 | 每季度结算一次 |

### 3.5 客户类型（customer_type）

| 编码 | 名称 | 说明 |
|------|------|------|
| ENTERPRISE | 企业 | 企业客户 |
| INDIVIDUAL | 个人 | 个人客户 |
| GOVERNMENT | 政府 | 政府机构 |

### 3.6 客户等级（customer_level）

| 编码 | 名称 | 采购额范围 | 优惠政策 |
|------|------|-----------|---------|
| VIP | VIP客户 | >= 1000万/年 | 折扣95折 |
| IMPORTANT | 重要客户 | 500万-1000万/年 | 折扣98折 |
| NORMAL | 普通客户 | 100万-500万/年 | 原价 |
| POTENTIAL | 潜在客户 | < 100万/年 | 无优惠 |

### 3.7 物流状态（logistics_status）

| 编码 | 名称 | 说明 |
|------|------|------|
| PENDING | 待发货 | 物流单已创建，等待发货 |
| SHIPPED | 已发货 | 物流已发出 |
| IN_TRANSIT | 运输中 | 物流在运输途中 |
| DELIVERED | 已送达 | 物流已签收 |
| CANCELLED | 已取消 | 物流已取消 |

### 3.8 报价类型（quotation_type）

| 编码 | 名称 | 说明 |
|------|------|------|
| NORMAL | 正常报价 | 正常报价流程 |
| URGENT | 紧急报价 | 紧急采购报价 |

### 3.9 审核状态（audit_status）

| 编码 | 名称 | 说明 |
|------|------|------|
| PENDING | 待审核 | 等待审核 |
| APPROVED | 已通过 | 审核通过 |
| REJECTED | 已拒绝 | 审核拒绝 |

### 3.10 对账类型（statement_type）

| 编码 | 名称 | 说明 |
|------|------|------|
| MONTHLY | 月度对账 | 每月对账一次 |
| QUARTERLY | 季度对账 | 每季度对账一次 |
| YEARLY | 年度对账 | 每年对账一次 |

### 3.11 结算状态（settlement_status）

| 编码 | 名称 | 说明 |
|------|------|------|
| PENDING | 待结算 | 等待结算 |
| SETTLED | 已结算 | 已完成结算 |

### 3.12 对账单据类型（order_type）

| 编码 | 名称 | 说明 |
|------|------|------|
| PURCHASE_ORDER | 采购订单 | 采购订单 |
| RECEIPT | 入库单 | 入库单 |
| RETURN | 退货单 | 退货单 |

---

## 四、数据清理策略

### 4.1 供应商评估记录
- 保留最近3年的评估记录
- 超过3年的记录归档到历史表

### 4.2 客户分级记录
- 保留最近3年的分级记录
- 超过3年的记录归档到历史表

### 4.3 物流跟踪记录
- 保留最近1年的跟踪记录
- 超过1年的记录归档到历史表

---

*文档维护：请保持此文档的及时更新*
